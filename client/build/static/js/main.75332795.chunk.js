(this["webpackJsonpmaaxo-react"]=this["webpackJsonpmaaxo-react"]||[]).push([[0],{37:function(e,a,t){e.exports=t(66)},42:function(e,a,t){},43:function(e,a,t){},66:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),o=t(34),r=t.n(o),c=(t(42),t(43),t(3)),s=t(4),i=t(5),m=t(1),d=t.n(m);var u=function(e){return l.a.createElement("div",{id:"login"},l.a.createElement("div",{className:"container col-lg-4 ",id:"Login"},l.a.createElement("h1",{className:"text-center loginH1"},"Swagatham"),l.a.createElement("form",{id:"loginForm"},l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",onChange:e.handleChangeParent,name:"username",id:"username",className:"form-control",placeholder:"Unique id"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"password",onChange:e.handleChangeParent,name:"password",id:"password",className:"form-control",placeholder:"Password"})),l.a.createElement("div",{className:"input-row loaderDiv"},l.a.createElement("button",{type:"submit",onClick:e.handleSubmitParent,value:"Login",id:"loginButton",className:"btn btn-primary float-right"},"Login"),l.a.createElement("div",{className:"loader",id:"loader"}),l.a.createElement("div",{className:"loaderText",id:"loaderText"}," Verifying Credentials...")))))};var p=function(e){var a={username:"",password:""},t=Object(n.useState)(a),o=Object(c.a)(t,2),r=o[0],m=o[1];return window.localStorage.removeItem("currTab"),window.localStorage.removeItem("taluk"),window.localStorage.removeItem("village"),window.localStorage.removeItem("session"),l.a.createElement("div",null,l.a.createElement(u,{handleChangeParent:function(e){m(Object(i.a)({},r,Object(s.a)({},e.target.name,e.target.value)))},handleSubmitParent:function(t){t.preventDefault(),document.getElementById("loader").style.visibility="visible",document.getElementById("loaderText").style.visibility="visible",setTimeout((function(){document.getElementById("loginMessage").innerHTML="";var t={username:r.username,password:r.password};m(a),document.getElementById("username").value="",document.getElementById("password").value="";var n="https://www.ccctsr.in/api/login?id="+window.localStorage.getItem("session");d.a.post(n,t,{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0}}).then((function(a){"User does not exist"===a.data&&(document.getElementById("loader").style.visibility="hidden",document.getElementById("loaderText").style.visibility="hidden",document.getElementById("loginMessage").innerHTML="User does not exist"),window.localStorage.setItem("session",a.data),e.parentFunction()})).catch((function(e){return console.log(e)}))}),1e3)}}),l.a.createElement("div",{id:"loginMessage"}))};var h=function(e){return"superadmin"===e.type||"admin"===e.type?l.a.createElement("div",{class:"col mb-3"},l.a.createElement("div",{className:"nav row nav-pills",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"},l.a.createElement("a",{className:"nav-link",id:"v-pills-home-tab","data-toggle":"pill",href:"#v-pills-home",role:"tab","aria-controls":"v-pills-home","aria-selected":"true"},"Home"),l.a.createElement("a",{className:"nav-link",id:"v-pills-institution-tab","data-toggle":"pill",href:"#v-pills-institution",role:"tab","aria-controls":"v-pills-profile","aria-selected":"false"},e.currInstitutionsTab),l.a.createElement("a",{className:"nav-link",id:"v-pills-user-tab","data-toggle":"pill",href:"#v-pills-user",role:"tab","aria-controls":"v-pills-messages","aria-selected":"false"},"Add User"),l.a.createElement("a",{className:"nav-link",id:"v-pills-logout",onClick:e.logoutParent,"data-toggle":"pill",href:"#v-pills-settings",role:"tab","aria-selected":"false"},"Logout"))):"dashboard"===e.type?l.a.createElement("div",{class:"col mb-3"},l.a.createElement("div",{className:"nav row nav-pills",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"},l.a.createElement("a",{className:"nav-link",id:"v-pills-home-tab","data-toggle":"pill",href:"#v-pills-home",role:"tab","aria-controls":"v-pills-home","aria-selected":"true"},"Home"),l.a.createElement("a",{className:"nav-link",id:"v-pills-logout",onClick:e.logoutParent,"data-toggle":"pill",href:"#v-pills-settings",role:"tab","aria-selected":"false"},"Logout"))):"taluk"===e.type?l.a.createElement("div",{class:"col mb-3"},l.a.createElement("div",{className:"nav row nav-pills",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"},l.a.createElement("a",{className:"nav-link",id:"v-pills-institution-tab","data-toggle":"pill",href:"#v-pills-institution",role:"tab","aria-controls":"v-pills-profile","aria-selected":"false"},e.currInstitutionsTab),l.a.createElement("a",{className:"nav-link",id:"v-pills-logout",onClick:e.logoutParent,"data-toggle":"pill",href:"#v-pills-settings",role:"tab","aria-selected":"false"},"Logout"))):"airport"===e.type?l.a.createElement("div",{class:"col mb-3"},l.a.createElement("div",{className:"nav row nav-pills",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"},l.a.createElement("a",{className:"nav-link",id:"v-pills-logout",onClick:e.logoutParent,"data-toggle":"pill",href:"#v-pills-settings",role:"tab","aria-selected":"false"},"Logout"))):"institution"===e.type?l.a.createElement("div",{class:"col mb-3"},l.a.createElement("div",{className:"nav row nav-pills",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"},l.a.createElement("a",{className:"nav-link",id:"v-pills-institution-tab","data-toggle":"pill",href:"#v-pills-institution",role:"tab","aria-controls":"v-pills-profile","aria-selected":"false"},e.currInstitutionsTab),l.a.createElement("a",{className:"nav-link",id:"v-pills-logout",onClick:e.logoutParent,"data-toggle":"pill",href:"#v-pills-settings",role:"tab","aria-selected":"false"},"Logout"))):void 0},b=t(8),E=t(9),g=t(11),v=t(10),y=t(12),f=function(e){function a(){return Object(b.a)(this,a),Object(g.a)(this,Object(v.a)(a).apply(this,arguments))}return Object(y.a)(a,e),Object(E.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"row mr-3 homeRow"},l.a.createElement("div",{className:"col-lg-3"},l.a.createElement("span",null,"District name")),l.a.createElement("div",{className:"col-lg-1"},l.a.createElement("span",{class:"badge badge-primary mr-2 homeBadge"},l.a.createElement("h5",null,"1"))),l.a.createElement("div",{className:"col-lg-1"},l.a.createElement("span",{class:"badge badge-success mr-2 homeBadge"},l.a.createElement("h5",null,"1"))),l.a.createElement("div",{className:"col-lg-1"},l.a.createElement("span",{class:"badge badge-danger mr-2 homeBadge"},l.a.createElement("h5",null,"1"))),l.a.createElement("div",{className:"col-6"},l.a.createElement("button",{className:"btn btn-primary float-right"},"View more")))}}]),a}(n.Component),k=function(e){function a(){var e,t;Object(b.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(t=Object(g.a)(this,(e=Object(v.a)(a)).call.apply(e,[this].concat(l)))).logout=function(){window.location.replace("/")},t}return Object(y.a)(a,e),Object(E.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row mt-3 mb-4"},l.a.createElement("div",{className:"col-3"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{class:"badge badge-primary mr-2 homeBadge"},l.a.createElement("h5",null,"1")),l.a.createElement("span",{className:""}," Total rooms"))),l.a.createElement("div",{className:"col-3"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{class:"badge badge-success mr-2 homeBadge"},l.a.createElement("h5",null,"1")),l.a.createElement("span",{className:""}," Useable rooms"))),l.a.createElement("div",{className:"col-3"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{class:"badge badge-danger mr-2 homeBadge"},l.a.createElement("h5",null,"1")),l.a.createElement("span",{className:""}," Unuseable rooms")))),l.a.createElement("div",{className:"info"},l.a.createElement(f,null)))}}]),a}(n.Component);var w=function(e){return l.a.createElement("div",{id:"userAddFrom",className:""},l.a.createElement("form",{className:"col-md-7"},l.a.createElement("h2",{className:"text-center"},"Add User"),l.a.createElement("hr",null),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",id:"newUsername",onChange:e.handleChangeParent,name:"username",placeholder:"Enter username",required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"password",onChange:e.handleChangeParent,name:"password",className:"form-control",id:"newPassword",placeholder:"Password",required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"password",onChange:e.handleChangeParent,name:"confirmpassword",className:"form-control",id:"confirmPassword",placeholder:"Confirm Password",required:!0}))))};var N=function(e){return"superadmin"===e.type?l.a.createElement("div",null,l.a.createElement("h5",null,"Select User Type"),l.a.createElement("div",{className:"row mb-3 ml-2 userType"},l.a.createElement("div",{class:"custom-control custom-radio rBtn"},l.a.createElement("input",{type:"radio",id:"rBtn1",name:"type",value:"admin",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"rBtn1"},"Admin")),l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"rBtn2",name:"type",value:"dashboard",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"rBtn2"},"Dashboard")),l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"rBtn3",name:"type",value:"taluk",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"rBtn3"},"Taluk")),l.a.createElement("div",{class:"custom-control custom-radio ml-4 lastButton"},l.a.createElement("input",{type:"radio",id:"rBtn4",name:"type",value:"airport",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"rBtn4"},"Airport")))):"admin"===e.type?l.a.createElement("div",null,l.a.createElement("h5",null,"Select User Type"),l.a.createElement("div",{className:"row mb-3 ml-2"},l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"rBtn2",name:"type",value:"dashboard",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"rBtn2"},"Dashboard")),l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"rBtn3",name:"type",value:"taluk",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"rBtn3"},"Taluk")),l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"rBtn4",name:"type",value:"airport",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"rBtn4"},"Airport")))):void 0};var C=function(e){return"taluk"===e.type?l.a.createElement("div",{class:"col"},l.a.createElement("label",{for:"talukAdd"},"Taluk"),l.a.createElement("select",{class:"custom-select",name:"taluk",id:"talukAdd",size:"1",onChange:e.handleDropdownParent},l.a.createElement("option",{selected:!0},"Choose..."),l.a.createElement("option",{value:"Chavakkad"},"Chavakkad"),l.a.createElement("option",{value:"Chalakudy"},"Chalakudy"),l.a.createElement("option",{value:"Kodungallur"},"Kodungallur"),l.a.createElement("option",{value:"Kunnamkulam"},"Kunnamkulam"),l.a.createElement("option",{value:"Mukunthapuram"},"Mukunthapuram"),l.a.createElement("option",{value:"Thalapilly"},"Thalapilly"),l.a.createElement("option",{value:"Thrissur"},"Thrissur"))):l.a.createElement("div",null)};var I=function(e){var a={username:"",password:"",confirmpassword:"",type:"",taluk:""},t=Object(n.useState)(a),o=Object(c.a)(t,2),r=o[0],m=o[1],u=function(e){m(Object(i.a)({},r,Object(s.a)({},e.target.name,e.target.value)))};return l.a.createElement("div",{className:"container col-lg-8 col-sm-4 addUser"},l.a.createElement(w,{handleChangeParent:u}),l.a.createElement(N,{handleChangeParent:u,type:e.type}),l.a.createElement(C,{handleDropdownParent:function(e){m(Object(i.a)({},r,Object(s.a)({},e.target.name,e.target.options[e.target.options.selectedIndex].value)))},type:r.type}),l.a.createElement("button",{type:"submit",id:"addUser",className:"float-right btn btn-primary",onClick:function(e){var t;e.preventDefault(),document.getElementById("passwordMismatch").innerHTML="";if(""!==r.username&&""!==r.password&&""!==r.confirmpassword&&""!==r.type){if(r.password===r.confirmpassword){if("taluk"===r.type){if(""===r.taluk)return void(document.getElementById("passwordMismatch").innerHTML="Empty Fields Present");t={username:r.username,password:r.password,type:r.type,taluk:r.taluk}}else t={username:r.username,password:r.password,type:r.type};var n="https://www.ccctsr.in/api/useradd?id="+window.localStorage.getItem("session");d.a.post(n,t,{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0}}).then((function(e){"connection closed"===e.data&&(alert(e.data),window.location.replace("/")),document.getElementById("passwordMismatch").innerHTML=e.data,"institution"===r.type&&r.taluk===window.localStorage.getItem("location")&&window.location.reload()})).catch((function(e){return console.log(e)}))}else document.getElementById("passwordMismatch").innerHTML="Password Mismatch";!function(){m(a),document.getElementById("newUsername").value="",document.getElementById("newPassword").value="",document.getElementById("confirmPassword").value="";for(var e=document.getElementsByName("type"),t=0;t<e.length;t++)e[t].checked=!1}()}else document.getElementById("passwordMismatch").innerHTML="Empty Fields Present"}},"Add User"),l.a.createElement("div",{id:"passwordMismatch"}))},P=t(19);var B=function(e){return l.a.createElement("div",{className:"inst-only"},l.a.createElement("div",null,l.a.createElement("div",{class:"form-group col"},l.a.createElement("label",{for:"instName"},"Institution Name"),l.a.createElement("input",{type:"text",name:"name",class:"form-control",id:"instName",placeholder:"Name of institution",onChange:e.handleChangeParent})),l.a.createElement("h6",null,"Institution Type?"),l.a.createElement("div",{className:"inst-type"},l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"type1",name:"type",value:"hotel/lodge",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"type1"},"Hotel/Lodge")),l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"type2",name:"type",value:"hostel",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"type2"},"Hostel")),l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"type3",name:"type",value:"educational institution",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"type3"},"Educational Institution")),l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"type4",name:"type",value:"hospital building",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"type4"},"Hospital Building")),l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"type5",name:"type",value:"resort",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"type5"},"Resort")),l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"type6",name:"type",value:"other",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"type6"},"Other"))),l.a.createElement("h6",null,"Structurally Fit?"),l.a.createElement("div",{className:"inst-sfit"},l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"sfit1",name:"fit",value:"yes",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"sfit1"},"Yes")),l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"sfit2",name:"fit",value:"no",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"sfit2"},"No"))),"taluk"!==e.type?l.a.createElement("div",{class:"col"},l.a.createElement("label",{for:"talukAdd"},"Taluk"),l.a.createElement("select",{class:"custom-select",name:"taluk",id:"talukAdd",size:"1",onChange:e.handleDropdownParent},l.a.createElement("option",{selected:!0,value:"Choose"},"Choose"),l.a.createElement("option",{value:"Chavakkad"},"Chavakkad"),l.a.createElement("option",{value:"Chalakudy"},"Chalakudy"),l.a.createElement("option",{value:"Kodungallur"},"Kodungallur"),l.a.createElement("option",{value:"Kunnamkulam"},"Kunnamkulam"),l.a.createElement("option",{value:"Mukunthapuram"},"Mukundapuram"),l.a.createElement("option",{value:"Thalapilly"},"Thalapilly"),l.a.createElement("option",{value:"Thrissur"},"Thrissur"))):l.a.createElement("div",null)))};var A=function(e){return l.a.createElement("div",{class:"mb-3 col-lg-6"},l.a.createElement("label",{htmlFor:"locTaluk"},"Taluk"),l.a.createElement("select",{class:"custom-select",name:"taluk",id:"locTaluk",onChange:e.handleTalukParent},l.a.createElement("option",{selected:!0,value:"Chavakkad"},"Chavakkad"),l.a.createElement("option",{value:"Chalakudy"},"Chalakudy"),l.a.createElement("option",{value:"Kodungallur"},"Kodungallur"),l.a.createElement("option",{value:"Kunnamkulam"},"Kunnamkulam"),l.a.createElement("option",{value:"Mukunthapuram"},"Mukunthapuram"),l.a.createElement("option",{value:"Thalapilly"},"Thalapilly"),l.a.createElement("option",{value:"Thrissur"},"Thrissur")))},O={Choose:[],"":[],Chalakudy:["Alathur","Aloor","Annallur","Athirapilly","E.Chalakudy","Kadukutty","Kakkulissery","Kallettumkara","Kallurthekkumury","Kizhakkumury","Kodakara","Kodassery","Kuttichira","Mattathur","Meloor","Mupliyam","Nadipulam","Pariyaram","Thazhakkad","Thirumukkulam","Vadama","Varantharapilly","Vellikulangara","W. Chalakudy"],Chavakkad:["Edakkazhiyur","Elavally","Engandiyoor","Guruvayur","Kadappuram","Manathala","Mullassery","Nattika","Orumanayoor","Pavaraty","Pookode","Punnayoor","Punnayoorkulam","Thaikkad Part","Thalikulam","Vadakkekkad","Valappad","Vatanapally","Venkidagu"],Kodungallur:["Aazhikode","Ala","Edathurithy","Edavilangu","Eriyad","Kaippamangalam","Koolimuttam","Lokamalleswaram","Methala","P.Vemballur","Pappinivattom","Perinjanam","Poyya","Pullut"],Kunnamkulam:["Aloor","Anjur","Arthat","Chemanthatta","Choondal","Chowannur","Eranellur","Eyyal","Kadangoe","Kadavallur","Kandanissery","Kanippayur Village Part","Kattakambal","Kottapuram","Kumaranellur","Kunnamkulam","Nelluvai","Porkulam","Vellattanjur"],Mukunthapuram:["Amballur","Ananthapuram","Chengalur","Edathirinji","Irinjalakuda","Kaduppassery","Karalam Part","Karumathra","Kattoor","Kottanellur","Madayikonam","Manavalassery Part","Muriyad","Nellai","Nenmanikkara","Padiyoor","Parappukara","Poomangalam","Porathissery","Pullur","Puthenchira","Thekkumkara","Thoravu","Thottipal","Thrikkur","Vadakkumkara","Vallivattom","Velukara"],Thalapilly:["Arankottukara","Attoor","Chelakara","Chelakode","Cheruthuruthy","Deshamangalam","Elanad","Enkakkad","Kaniyarkode","Kondazhi","Kumaranellur","Kurumala","Pambady","Panjhal","Pazhayannur","Peringadoor","Puthuruthy","Thekkumkara","Thiruvillamala","Vadakkethara","Varavoor","Venganellur","Wadakkancherry"],Thrissur:["Adat","Alappad","Anjur","Anthikkad","Aranattukara","Arattupuzha","Avanoor","Avinissery ","Ayyanthole","Chazhur","Chembukkavu","Cherpu","Chevoor","Chilliapilly","Chiyyaram Part","Choolissery","Edakalathur","Edakunni","Injamudi","Kainoor","Kanimangalam","Karamukku","Killannur","Kizhpullikara","Kolazhi","Koorkkenchery Part","Kozhukully","Kurichikara","Kurimbilavu","Kuttur","Madakkathara","Manakodi","Manaloor","Manamangalam","Marathakara","Mulayam","Nadathara","Ollukara","Ollur Part","Padiyam","Pananchery","Parakkad","Paralam","Peechi","Peramangalam","Peringavu","Pullu","Puthur","Puzhakkal","Thangalur","Thannyam","Tholur","Thrissur","Vadakkumury","Vallachira","Vellanikara","Venginissery","Vilvattom","Viyyur"]};var T=function(e){return Object(n.useEffect)((function(){var a=document.getElementById("villageAdd");a.options.length=1;for(var t=0;t<O[e.taluk].length;t++)a.options[a.options.length]=new Option(O[e.taluk][t],O[e.taluk][t])}),[e.taluk]),l.a.createElement("div",{class:"col"},l.a.createElement("label",{for:"villageAdd"},"Village"),l.a.createElement("select",{class:"custom-select",name:"village",id:"villageAdd",size:"1",onChange:e.handleDropdownParent},l.a.createElement("option",{value:"",defaultValue:!0},"Choose")))};var j=function(e){return l.a.createElement("div",null,l.a.createElement("div",{class:"col"},l.a.createElement("label",{for:"constituencyAdd"},"LAC"),l.a.createElement("select",{class:"custom-select",name:"constituency",id:"constituencyAdd",size:"1",onChange:e.handleDropdownParent},l.a.createElement("option",{value:"Choose",selected:!0},"Choose"),l.a.createElement("option",{value:"Chalakudy"},"Chalakudy"),l.a.createElement("option",{value:"Chelakara"},"Chelakara"),l.a.createElement("option",{value:"Guruvayur"},"Guruvayur"),l.a.createElement("option",{value:"Irinjalakuda"},"Irinjalakuda"),l.a.createElement("option",{value:"Kaippamangalam"},"Kaippamangalam"),l.a.createElement("option",{value:"Kodungallur"},"Kodungallur"),l.a.createElement("option",{value:"Kunnamkulam"},"Kunnamkulam"),l.a.createElement("option",{value:"Manalur"},"Manalur"),l.a.createElement("option",{value:"Nattika"},"Nattika"),l.a.createElement("option",{value:"Ollur"},"Ollur"),l.a.createElement("option",{value:"Pudukkad"},"Pudukkad"),l.a.createElement("option",{value:"Thrissur"},"Thrissur"),l.a.createElement("option",{value:"Wadakkanchery"},"Wadakkanchery"))))},M={Choose:[],"":[],Chelakara:["Chelakara","Deshamangalam","Kondazhi","Mullurkara","Panjhal","Pazhayannur","Thiruvillamala","Vallathole Nagar","Varavoor"],Kunnamkulam:["Chowannur","Erumapetty","Kadavallur","Kandangode","Kattakambal","Kunnamkulam","Municipality","Porkulam","Velur"],Wadakkanchery:["Adat","Avanoor","Kaiparamaba","Kolazhi","Mulamkunnathukavu","Municipality","Thekkumkara","Tholur","Wadkkanchery"],Guruvayur:["Chavakkad Municipality","Engandiyoor","Guruvayur Municipality","Kadappuram","Orumanayoor","Punnayoor","Punnayoorkulam","Vadakkekkad"],Manalur:["Arimbur","Choondal","Elavally","Guruvayur Municipality","Kandanissery","Manaloor","Mullassery","Pavaraty","Vatanapally","Venkidagu"],Ollur:["Madakkathara","Nadathara","Pananchery","Puthur","Thrissur Corporation"],Thrissur:["Thrissur Corporation"],Nattika:["Anthikkad","Avinissery","Chazhur","Cherpu","Nattika","Paralam","Thalikulam","Thannyam","Valappad"],Irinjalakuda:["Aloor","Irinjalakuda Municipality","Karalam","Kattoor","Muriyad","Padiyoor","Poomangalam","Velukara"],Pudukkad:["Alagappa Nagar","Mattathur","Nenmanikkara","Parappukara","Puthukkad","Thrikkur","Vallchira","Varantharapilly"],Kaippamangalam:["Edathurithy","Edavilangu","Eriyad","Kaippamangalam","Mathilakam","Perinjanam","SN Puram"],Chalakudy:["Athirapilly","Chalakudy Municipality","Kadukutty","Kodakara","Kodassery","Koratty","Meloor","Pariyarma"],Kodungallur:["Annammanada","Kodugallur Municipality","Kuzhoor","Mala","Poyya","Puthenchira","Vellangallur"]};var S=function(e){return Object(n.useEffect)((function(){var a=document.getElementById("panchayatAdd");a.options.length=1;for(var t=0;t<M[e.constituency].length;t++)a.options[a.options.length]=new Option(M[e.constituency][t],M[e.constituency][t])}),[e.constituency]),l.a.createElement("div",{class:"col"},l.a.createElement("label",{for:"panchayatAdd"},"LSGD"),l.a.createElement("select",{class:"custom-select",name:"panchayat",id:"panchayatAdd",size:"1",onChange:e.handleDropdownParent},l.a.createElement("option",{value:"",defaultValue:!0},"Choose")))};var K=function(e){return Object(n.useEffect)((function(){var a=document.getElementById("villageSearch");a.options.length=0;for(var t=0;t<O[e.taluk].length;t++)a.options[t]=new Option(O[e.taluk][t],O[e.taluk][t])}),[e.taluk]),l.a.createElement("div",{class:"col-lg-6"},l.a.createElement("label",{for:"villageSearch"},"Village"),l.a.createElement("select",{class:"custom-select",name:"village",id:"villageSearch",size:"1",onChange:e.handleVillageParent},l.a.createElement("option",{value:"",defaultValue:!0},"Choose")))};var x=function(e){if("taluk"===e.type)var a=e.taluk;else a="Chavakkad";var t={type:"",taluk:"",village:"",constituency:"",panchayat:"",priority:0,fit:""},o=Object(n.useState)(""),r=Object(c.a)(o,2),m=r[0],u=r[1],p=Object(n.useState)(a),h=Object(c.a)(p,2),b=h[0],E=h[1],g=Object(n.useState)(O[e.taluk][0]),v=Object(c.a)(g,2),y=v[0],f=v[1],k=Object(n.useState)(t),w=Object(c.a)(k,2),N=w[0],C=w[1],I=function(e){for(var a=0,t=0;t<e.length;t++)console.log(e[t]),""===e[t].emigrantId&&a++;return a},M=function(e){for(var a=0,t=0;t<e.length;t++)"no"===e[t].status&&a++;return a},x=function(e){for(var a=0,t=0;t<e.length;t++)"yes"===e[t].ready&&a++;return a},R=function(e){C(Object(i.a)({},N,Object(s.a)({},e.target.name,e.target.value)))},L=function(e){C(Object(i.a)({},N,Object(s.a)({},e.target.name,e.target.options[e.target.options.selectedIndex].value)))},V=function(e){E(e.target.options[e.target.options.selectedIndex].value),f(O[e.target.options[e.target.options.selectedIndex].value][0])},D=function(e){f(e.target.options[e.target.options.selectedIndex].value)},H=function(e){window.location.assign(e)},z=function(a){return"institution"!==e.type?l.a.createElement("button",{className:"btn btn-danger DeleteInstitution mt-2 float-right",onClick:U.bind(a,a)},"Delete"):l.a.createElement("div",null)},F=function(){var a="https://www.ccctsr.in/api/institution?taluk="+b+"&village="+y+"&id="+window.localStorage.getItem("session")+"&institutionId="+e.institutionId;d.a.get(a).then((function(e){"connection closed"===e.data&&(alert(e.data),window.location.replace("/"));var t=e.data.map((function(e,t){return l.a.createElement("div",{key:e._id,className:"accordion InstitutionsContainer mb-3",id:"accordionExample"+t},l.a.createElement("div",{class:"card"},l.a.createElement("div",{class:"card-header",id:"headingOne"+t},l.a.createElement("h2",{class:"mb-0"},l.a.createElement("button",{class:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseOne"+t,"aria-expanded":"true","aria-controls":"collapseOne"},e.name))),l.a.createElement("div",{id:"collapseOne"+t,class:"collapse","aria-labelledby":"headingOne"+t,"data-parent":"#accordionExample"+t},l.a.createElement("div",{class:"card-body"},l.a.createElement("h5",{className:"card-title"},e.name),l.a.createElement("h6",{className:"card-title"},e.type),l.a.createElement("h6",{className:"card-title"},"Structurally Fit : ",e.fit),l.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},e.district),l.a.createElement("button",{type:"button",class:"btn btn-secondary mr-3 mb-2"},"Total Rooms ",l.a.createElement("button",{class:"btn btn-light roomBadge"},e.rooms.length)),l.a.createElement("button",{type:"button",class:"btn btn-primary mr-3 mb-2"},"Vacant ",l.a.createElement("button",{class:"btn btn-light roomBadge"},I(e.rooms))),l.a.createElement("button",{type:"button",class:"btn btn-warning mr-3 mb-2"},"Ready ",l.a.createElement("button",{class:"btn btn-light roomBadge"},x(e.rooms))),l.a.createElement("button",{type:"button",class:"btn btn-success mr-3 mb-2"},"Decontaminated ",l.a.createElement("button",{class:"btn btn-light roomBadge"},M(e.rooms))),l.a.createElement("br",null),l.a.createElement("button",{className:"btn btn-primary  mt-2 ml-2 float-right",onClick:H.bind(a,"/admin/"+e._id)},"Check Rooms"),z(e._id)))))}));u(t)})).catch((function(e){return console.log(e)}))},U=function(e){if(window.confirm("Are you sure?")){var a="https://www.ccctsr.in/api/institution/delete/"+e+"?id="+window.localStorage.getItem("session");d.a.get(a).catch((function(e){return console.log(e)}))}window.localStorage.setItem("taluk",b),F()},G=function(a){if(a.preventDefault(),document.getElementById("institutionAddMssg").innerHTML="",""!==N.name&&""!==N.type&&""!==N.taluk&&""!==N.village&&""!==N.constituency&&""!==N.panchayat&&""!==N.fit){var n=Object(i.a)({},N,{rooms:[]}),o="https://www.ccctsr.in/api/institution/add?id="+window.localStorage.getItem("session");d.a.post(o,n,{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0}}).then((function(e){if("string"===typeof e.data)"connection closed"===e.data?(alert(e.data),window.location.replace("/")):document.getElementById("institutionAddMssg").innerHTML=e.data;else if(document.getElementById("institutionAddMssg").innerHTML=e.data.mssg,N.taluk===b&&N.village===y){var a=document.querySelectorAll(".InstitutionsContainer").length,t=e.data.data.map((function(e){return l.a.createElement("div",{key:e._id,className:"accordion InstitutionsContainer mb-3",id:"accordionExample"+a},l.a.createElement("div",{class:"card"},l.a.createElement("div",{class:"card-header",id:"headingOne"+a},l.a.createElement("h2",{class:"mb-0"},l.a.createElement("button",{class:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseOne"+a,"aria-expanded":"true","aria-controls":"collapseOne"},e.name))),l.a.createElement("div",{id:"collapseOne"+a,class:"collapse","aria-labelledby":"headingOne"+a,"data-parent":"#accordionExample"+a},l.a.createElement("div",{class:"card-body"},l.a.createElement("h5",{className:"card-title"},e.name),l.a.createElement("h6",{className:"card-title"},e.type),l.a.createElement("h6",{className:"card-title"},"Structurally Fit : ",e.fit),l.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},e.district),l.a.createElement("button",{type:"button",class:"btn btn-secondary mr-3 mb-2"},"Total Rooms ",l.a.createElement("button",{class:"btn btn-light roomBadge"},e.rooms.length)),l.a.createElement("button",{type:"button",class:"btn btn-primary mr-3 mb-2"},"Vacant ",l.a.createElement("button",{class:"btn btn-light roomBadge"},I(e.rooms))),l.a.createElement("button",{type:"button",class:"btn btn-warning mr-3 mb-2"},"Ready ",l.a.createElement("button",{class:"btn btn-light roomBadge"},x(e.rooms))),l.a.createElement("button",{type:"button",class:"btn btn-success mr-3 mb-2"},"Decontaminated ",l.a.createElement("button",{class:"btn btn-light roomBadge"},M(e.rooms))),l.a.createElement("br",null),l.a.createElement("button",{className:"btn btn-primary  mt-2 ml-2 float-right",onClick:H.bind(o,"/admin/"+e._id)},"Check Rooms"),z(e._id)))))}));u([].concat(Object(P.a)(m),[t]))}})).catch((function(e){return console.log(e)}))}else document.getElementById("institutionAddMssg").innerHTML="Empty Fields Present";"taluk"===e.type?C(Object(i.a)({},t,{taluk:b})):C(t),document.getElementById("instName").value="";for(var r=document.getElementsByName("type"),c=0;c<r.length;c++)r[c].checked=!1;r=document.getElementsByName("fit");for(c=0;c<r.length;c++)r[c].checked=!1;null!==document.getElementById("talukAdd")&&(document.getElementById("talukAdd").options.selectedIndex=0),document.getElementById("villageAdd").options.selectedIndex=0,document.getElementById("constituencyAdd").options.selectedIndex=0,document.getElementById("panchayatAdd").options.selectedIndex=0};return Object(n.useEffect)((function(){E(b),f(O[b][0]),"taluk"===e.type&&C(Object(i.a)({},N,{taluk:b})),F(),window.localStorage.setItem("currTab","Institutions")}),[]),Object(n.useEffect)((function(){F()}),[b,y]),l.a.createElement("div",{id:"InstitutionTab p-2",className:"search"},"taluk"===e.type?l.a.createElement("h6",{id:"talukHeader"},b," user "):l.a.createElement("h6",{id:"talukHeader"},e.type," user "),function(){if("institution"!==e.type)return l.a.createElement("div",{id:"institutionForm",className:"inst"},l.a.createElement("div",{class:"accordion",id:"accordionExample"},l.a.createElement("div",{class:"card p-0 m-0"},l.a.createElement("div",{class:"card-header text-center p-2",id:"headingOne"},l.a.createElement("button",{class:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"},l.a.createElement("h5",null,"Add Institution"))),l.a.createElement("div",{id:"collapseOne",class:"collapse","aria-labelledby":"headingOne","data-parent":"#accordionExample"},l.a.createElement("div",{class:"card-body"},l.a.createElement("div",{className:"inst-details"},l.a.createElement(B,{type:e.type,handleDropdownParent:L,handleChangeParent:R}),l.a.createElement("div",{className:"lsgd"},"taluk"===e.type?l.a.createElement(T,{taluk:b,handleDropdownParent:L}):l.a.createElement(T,{taluk:N.taluk,handleDropdownParent:L}),l.a.createElement(j,{handleDropdownParent:L}),l.a.createElement(S,{constituency:N.constituency,handleDropdownParent:L}),l.a.createElement("div",{class:"sbmt-btn"},l.a.createElement("button",{className:"btn",onClick:G},"Submit")),l.a.createElement("div",{id:"institutionAddMssg"}))))))))}(),l.a.createElement("hr",null),l.a.createElement("h4",{className:"text-center mb-4"},"Search"),"taluk"===e.type?l.a.createElement("div",null,l.a.createElement(K,{handleVillageParent:D,taluk:b})):"institution"!==e.type?l.a.createElement("div",{className:"row mt-3 mb-4"},l.a.createElement(A,{handleTalukParent:V}),l.a.createElement(K,{handleVillageParent:D,taluk:b})):l.a.createElement("div",null),l.a.createElement("hr",null),m)};var R=function(e){return l.a.createElement("div",{className:"col"},l.a.createElement("div",{class:"accordion"},l.a.createElement("div",{class:"card mb-4"},l.a.createElement("button",{className:"btn btn-primary btn-block mr-2",onClick:e.institutionsRedirectParent},"Prev page ",l.a.createElement("i",{className:"fa fa-arrow-left "})),l.a.createElement("div",{class:"card-header p-1",id:"headingRooms"},l.a.createElement("h2",{class:"mb-0"},l.a.createElement("button",{class:"btn btn-link text-center",type:"button","data-toggle":"collapse","data-target":"#collapseRooms","aria-expanded":"true","aria-controls":"collapseRooms"},l.a.createElement("h6",null,"Add Room info")))),l.a.createElement("div",{id:"collapseRooms",class:"collapse","aria-labelledby":"headingRooms","data-parent":"#accordionRooms"},l.a.createElement("div",{class:"card-body"},l.a.createElement("form",{className:"p-2 col"},l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col"},l.a.createElement("label",null,"Room No/Name"),l.a.createElement("input",{type:"text",id:"roomNo",name:"no",className:"form-control",placeholder:"Room No",onChange:e.handleChangeParent})),l.a.createElement("div",{className:"form-group col"},l.a.createElement("label",null,"No of beds"),l.a.createElement("input",{type:"number",id:"roomBeds",name:"beds",className:"form-control",placeholder:"No of beds",onChange:e.handleChangeParent}))),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col"},l.a.createElement("label",null,"Attached Bathroom ?"),l.a.createElement("div",{className:"row mb-3 ml-2"},l.a.createElement("div",{class:"custom-control custom-radio"},l.a.createElement("input",{type:"radio",id:"attchBath1",name:"bathroom",value:"yes",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"attchBath1"},"Yes")),l.a.createElement("div",{class:"custom-control custom-radio ml-2"},l.a.createElement("input",{type:"radio",id:"attchBath2",name:"bathroom",value:"no",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"attchBath2"},"No")))),l.a.createElement("div",{className:"form-group col"},l.a.createElement("label",null,"Disable Friendly?"),l.a.createElement("div",{className:"row mb-3 ml-3"},l.a.createElement("div",{class:"custom-control custom-radio"},l.a.createElement("input",{type:"radio",id:"disable1",name:"disable",value:"yes",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"disable1"},"Yes")),l.a.createElement("div",{class:"custom-control custom-radio ml-2"},l.a.createElement("input",{type:"radio",id:"disable2",name:"disable",value:"no",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"disable2"},"No"))))),l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("label",{className:"input-group-text",htmlFor:"inputGroupSelect01"},"Status")),l.a.createElement("select",{className:"custom-select",id:"roomStatus",name:"status",onChange:e.handleDropdownParent},l.a.createElement("option",{defaultValue:!0},"Choose..."),l.a.createElement("option",{value:"no"},"Decontaminated"),l.a.createElement("option",{value:"yes"},"Contaminated"))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Ready to Occupy"),l.a.createElement("div",{className:"row mb-3 ml-2"},l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"ready1",name:"ready",value:"yes",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"ready1"},"Yes")),l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"ready2",name:"ready",value:"no",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"ready2"},"No")))),l.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:e.handleSubmitParent},"Add room")),"      ")))))};var L=function(e){var a=Object(n.useState)({no:"",beds:0,status:"",ready:"",bathroom:"",disable:""}),t=Object(c.a)(a,2),o=t[0],r=t[1],m=Object(n.useState)([]),u=Object(c.a)(m,2),p=u[0],h=u[1],b=window.location.pathname.split("/")[2],E=function(e){return""===e?"yes":"no"},g=function(e){if(window.confirm("Are you sure?")){var a="https://www.ccctsr.in/api/rooms/"+e+"/delete?id="+window.localStorage.getItem("session")+"&institutionId="+b;d.a.get(a).then((function(e){"connection closed"===e.data&&(alert("connection closed"),window.location.replace("/")),"Room Successfully Deleted"===e.data.mssg&&v()})).catch((function(e){return console.log(e)}))}},v=function(){console.log(1);var e="https://www.ccctsr.in/api/rooms?id="+window.localStorage.getItem("session")+"&institutionId="+b;d.a.get(e).then((function(e){"connection closed"===e.data&&(alert("connection closed"),window.location.replace("/")),document.getElementById("roomHeading").innerHTML=e.data.name;var a=e.data.rooms.map((function(e,a){return l.a.createElement("div",{class:"accordion RoomsContainer",id:"accordion"+a},l.a.createElement("div",{class:"card"},l.a.createElement("div",{class:"card-header row",id:"heading"+a},l.a.createElement("button",{class:"btn btn-link col",type:"button","data-toggle":"collapse","data-target":"#collapse"+a,"aria-expanded":"true","aria-controls":"collapseOne1"},"Room No :",e.no),l.a.createElement("button",{className:"btn btn-success col-3"},"Ready")),l.a.createElement("div",{id:"collapse"+a,class:"collapse","aria-labelledby":"heading"+a,"data-parent":"#accordion"+a},l.a.createElement("div",{class:"card-body"},l.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Vacancy: ",E(e.emigrantId)),l.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"No of Beds: ",e.beds),l.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Attached Bathroom: ",e.bathroom),l.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Disable Friendly: ",e.disable),l.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Contaminated: ",e.status),l.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Ready: ",e.ready),l.a.createElement("button",{className:"btn btn-primary  mt-2 ml-2 float-right"},"Info"),l.a.createElement("button",{className:"btn btn-danger DeleteInstitution mt-2 float-right",onClick:g.bind(void 0,e.no)},"Delete")))))}));h(a)})).catch((function(e){return console.log(e)}))};return Object(n.useEffect)((function(){window.localStorage.setItem("currTab","Institutions"),v()}),[]),l.a.createElement("div",null,l.a.createElement("div",{className:"text-center"},l.a.createElement("h3",{id:"roomHeading"})),l.a.createElement("div",{className:"row mt-4"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement(R,{institutionsRedirectParent:function(){window.localStorage.setItem("currTab","Institutions"),window.location.assign("/admin")},handleChangeParent:function(e){r(Object(i.a)({},o,Object(s.a)({},e.target.name,e.target.value)))},handleDropdownParent:function(e){r(Object(i.a)({},o,Object(s.a)({},e.target.name,e.target.options[e.target.options.selectedIndex].value)))},handleSubmitParent:function(e){e.preventDefault(),document.getElementById("RoomAddMssg").innerHTML="";if(""!==o.no&&""!==o.status&&0!==o.beds&&""!==o.ready&&""!==o.bathroom&&""!==o.disable){var a={no:o.no,status:o.status,emigrantId:"",beds:o.beds,ready:o.ready,bathroom:o.bathroom,disable:o.disable},t="https://www.ccctsr.in/api/rooms/add?id="+window.localStorage.getItem("session")+"&institutionId="+b;d.a.post(t,a,{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0}}).then((function(e){if("string"===typeof e.data)"connection closed"===e.data?(alert(e.data),window.location.replace("/")):document.getElementById("RoomAddMssg").innerHTML=e.data;else{document.getElementById("RoomAddMssg").innerHTML=e.data.mssg;var a=document.querySelectorAll(".RoomsContainer").length,t=e.data.room.map((function(e,t){return l.a.createElement("div",{class:"accordion RoomsContainer",id:"accordion"+a},l.a.createElement("div",{class:"card"},l.a.createElement("div",{class:"card-header row",id:"heading"+a},l.a.createElement("button",{class:"btn btn-link col",type:"button","data-toggle":"collapse","data-target":"#collapse"+a,"aria-expanded":"true","aria-controls":"collapseOne1"},"Room No :",e.no),l.a.createElement("button",{className:"btn btn-success col-3"},"Ready")),l.a.createElement("div",{id:"collapse"+a,class:"collapse","aria-labelledby":"heading"+a,"data-parent":"#accordion"+a},l.a.createElement("div",{class:"card-body"},l.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Vacancy: ",E(e.emigrantId)),l.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"No of Beds: ",e.beds),l.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Attached Bathroom: ",e.bathroom),l.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Disable Friendly: ",e.disable),l.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Contaminated: ",e.status),l.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Ready: ",e.ready),l.a.createElement("button",{className:"btn btn-primary  mt-2 ml-2 float-right"},"Info"),l.a.createElement("button",{className:"btn btn-danger DeleteInstitution mt-2 float-right",onClick:g.bind(void 0,e.no)},"Delete")))))}));console.log(t),console.log(p),h([t].concat(Object(P.a)(p)))}})).catch((function(e){return console.log(e)}))}else document.getElementById("RoomAddMssg").innerHTML="Empty Fields Present";r({no:0,beds:0,status:"",ready:"",bathroom:"",disable:""}),document.getElementById("roomNo").value="",document.getElementById("roomBeds").value="",document.getElementById("roomStatus").options.selectedIndex=0;for(var n=document.getElementsByName("bathroom"),c=0;c<n.length;c++)n[c].checked=!1;for(n=document.getElementsByName("disable"),c=0;c<n.length;c++)n[c].checked=!1;for(n=document.getElementsByName("ready"),c=0;c<n.length;c++)n[c].checked=!1}}),l.a.createElement("div",{id:"RoomAddMssg"})),l.a.createElement("div",{className:"col-lg-6"},p)))},V=function(e){function a(e){var t;Object(b.a)(this,a),(t=Object(g.a)(this,Object(v.a)(a).call(this,e))).componentDidMount=function(){var e="https://www.ccctsr.in/api/"+t.name+"/"+t.district+"/"+t.no+"/"+t.floor+"/patient/";d.a.get(e).then((function(e){"Room Found"!==e.data.mssg?window.location.replace("/admin/"+t.name+"/"+t.district+"/"):t.setState({room:e.data.room},(function(){}))})).catch((function(e){return console.log(e)}))};var n=window.location.pathname;return t.name=n.split("/")[2],t.district=n.split("/")[3],t.no=n.split("/")[4],t.floor=n.split("/")[5],t.state={room:{}},t}return Object(y.a)(a,e),Object(E.a)(a,[{key:"render",value:function(){var e,a;"sick"==this.state.room.curr?(e="btn btn-danger",a="fa fa-thumbs-down"):(e="btn btn-success",a="fa fa-thumbs-up");return l.a.createElement("div",{class:"card"},l.a.createElement("div",{class:"card-header",id:this.state.room.name,style:{width:"330px"}},l.a.createElement("h5",{class:"mb-0"},l.a.createElement("button",{class:"btn btn-link","data-toggle":"collapse","data-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"},this.state.room.name))),l.a.createElement("div",{id:"collapseOne",class:"show","aria-labelledby":this.state.room.name,"data-parent":"#accordion"},l.a.createElement("div",{class:"card-body"},l.a.createElement("h5",{id:"inmateName"},this.state.room.name),l.a.createElement("p",{id:"inmateAge"},this.state.room.age),l.a.createElement("span",{className:"inmatePhn"},l.a.createElement("p",{id:"inmatePhone",className:"mr-3 mb-3"},l.a.createElement("i",{className:"fa fa-mobile fa-2x"})," ",this.state.room.phn)),l.a.createElement("p",{id:"inmateAddr"},this.state.room.address),l.a.createElement("button",{type:"button",class:"btn btn-warning mb-2"},"Date of check-in ",l.a.createElement("span",{class:"badge badge-light"},"Mar 30,2020")),l.a.createElement("br",null),l.a.createElement("button",{type:"button",class:"btn btn-success mb-2"},"Discharge date ",l.a.createElement("span",{class:"badge badge-light"},"Apr 10,2020")),l.a.createElement("br",null),l.a.createElement("button",{type:"button",className:e},"Health status ",l.a.createElement("span",{class:"badge badge-light"},this.state.room.curr," ",l.a.createElement("i",{className:a}))),l.a.createElement("br",null))))}}]),a}(n.Component),D=function(e){function a(e){var t;return Object(b.a)(this,a),(t=Object(g.a)(this,Object(v.a)(a).call(this,e))).handleSubmit=function(){if(window.confirm("Are you Sure?")){var e="https://www.ccctsr.in"+window.location.pathname,a={name:"",age:"",phn:"",address:"",curr:"",prev:"",status:"yes"};d.a.post(e,a,{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0}}).catch((function(e){return console.log(e)})),t.props.parentRender(a)}},t}return Object(y.a)(a,e),Object(E.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h2",null,"Inmates"),l.a.createElement("div",{id:"accordion"},l.a.createElement(V,null)),l.a.createElement("div",null,l.a.createElement("button",{className:"btn btn-primary",onClick:this.handleSubmit},"Discharge")))}}]),a}(n.Component),H=t(18),z=function(e){function a(e){var t;Object(b.a)(this,a),(t=Object(g.a)(this,Object(v.a)(a).call(this,e))).handleChange=function(e){t.setState(Object(s.a)({},e.target.name,e.target.value))},t.handleSubmit=function(e){if(e.preventDefault(),""!==t.state.name&&""!==t.state.age&&""!==t.state.phn&&""!==t.state.address&&""!==t.state.curr){var a="https://www.ccctsr.in/api/"+t.name+"/"+t.district+"/"+t.no+"/"+t.floor+"/",n={name:t.state.name,age:t.state.age,phn:t.state.phn,address:t.state.address,curr:t.state.curr,prev:t.state.prev,status:"yes"},l=Object(H.a)(t);d.a.post(a,n,{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0}}).then((function(e){console.log(e.data),l.props.parentRender(n)})).catch((function(e){console.log(e)}))}else document.getElementById("InmateAddMssg").innerHTML="Empty Fields";document.getElementById("InmateName").value="",document.getElementById("InmateAge").value="",document.getElementById("InmatePhone").value="",document.getElementById("InmateAddr").value="",document.getElementById("InmateHistory").value="",document.getElementById("sickbtn").style.opacity="100%",document.getElementById("finebtn").style.opacity="100%"},t.currentHealth=function(e){t.setState({curr:e});var a=e+"btn";document.getElementById(a).style.opacity="100%","fine"===e?document.getElementById("sickbtn").style.opacity="30%":document.getElementById("finebtn").style.opacity="30%"};var n=window.location.pathname;return t.name=n.split("/")[2],t.district=n.split("/")[3],t.no=n.split("/")[4],t.floor=n.split("/")[5],t.state={name:"",age:"",phn:"",address:"",curr:"",prev:""},t}return Object(y.a)(a,e),Object(E.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"input-group"},l.a.createElement("form",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{for:"inmateName"},"Name"),l.a.createElement("input",{type:"text",name:"name",className:"form-control",id:"InmateName",onChange:this.handleChange,placeholder:"Enter name"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{for:"exampleInputPassword1"},"Age"),l.a.createElement("input",{type:"text",min:"1",name:"age",className:"form-control",id:"InmateAge",onChange:this.handleChange,placeholder:"Age"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{for:"inmatePhone"},"Contact No"),l.a.createElement("input",{type:"text",name:"phn",className:"form-control",id:"InmatePhone",onChange:this.handleChange,placeholder:"Phone number"})),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",{for:"inmateAddr"},"Address"),l.a.createElement("textarea",{class:"form-control",id:"InmateAddr",rows:"3",name:"address",onChange:this.handleChange})),l.a.createElement("h4",null,"Current health status"),l.a.createElement("div",{className:"form-group mb-3",id:"stat"},l.a.createElement("buton",{id:"sickbtn",className:"btn btn-danger mr-3 mb-2",onClick:this.currentHealth.bind(this,"sick")},l.a.createElement("span",{className:"mt-2"},"sick ",l.a.createElement("i",{className:"fa fa-meh-o fa-1x"}))),l.a.createElement("buton",{id:"finebtn",className:"btn btn-success",onClick:this.currentHealth.bind(this,"fine")},l.a.createElement("span",null,"fine ",l.a.createElement("i",{className:"fa fa-smile-o fa-1x"})))),l.a.createElement("hr",null),l.a.createElement("div",{className:"form-group"},l.a.createElement("h4",null,"Previous medical history"),l.a.createElement("textarea",{class:"form-control",id:"InmateHistory",name:"prev",rows:"3",onChange:this.handleChange})),l.a.createElement("hr",null),l.a.createElement("button",{type:"submit",onClick:this.handleSubmit,className:"btn btn-primary btn-lg mt-3"},"Add inmate"),l.a.createElement("div",{id:"InmateAddMssg"})))}}]),a}(n.Component),F=0,U=function(e){function a(e){var t;Object(b.a)(this,a),(t=Object(g.a)(this,Object(v.a)(a).call(this,e))).RoomsRedirect=function(){var e="/admin/"+t.name+"/"+t.district+"/";window.location.assign(e)},t.componentDidMount=function(){F=1;var e="https://www.ccctsr.in/api/"+t.name+"/"+t.district+"/"+t.no+"/"+t.floor+"/patient/";d.a.get(e).then((function(e){"Room Found"!==e.data.mssg?window.location.replace("/admin/"+t.name+"/"+t.district+"/"):t.setState({room:e.data.room})})).catch((function(e){return console.log(e)}))},t.decontaminate=function(){if(window.confirm("Are you sure?")){var e=t.state.room;e.status="no";var a="https://www.ccctsr.in/api/"+t.name+"/"+t.district+"/"+t.no+"/"+t.floor;d.a.post(a,e,{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0}}).catch((function(e){return console.log(e)})),t.setState({status:"no"})}},t.parentRender=function(e){t.setState({room:e})};var n=window.location.pathname;return t.name=n.split("/")[2],t.district=n.split("/")[3],t.no=n.split("/")[4],t.floor=n.split("/")[5],t.state={room:{}},t}return Object(y.a)(a,e),Object(E.a)(a,[{key:"render",value:function(){var e;return""===this.state.room.name&&1===F?"yes"===this.state.room.status?(document.getElementById("RoomStatusBtn").classList.remove("btn-success"),document.getElementById("RoomStatusBtn").classList.add("btn-danger"),e=l.a.createElement("p",null,"DeContaminate the room !! ",l.a.createElement("button",{onClick:this.decontaminate,class:"btn btn-danger"},"Decontaminated!!"))):(document.getElementById("RoomStatusBtn").classList.add("btn-success"),document.getElementById("RoomStatusBtn").classList.remove("btn-danger"),e=l.a.createElement(z,{parentRender:this.parentRender})):1===F&&(e=l.a.createElement(D,{parentRender:this.parentRender}),document.getElementById("RoomStatusBtn").classList.remove("btn-success"),document.getElementById("RoomStatusBtn").classList.add("btn-danger")),l.a.createElement("div",{className:"container "},l.a.createElement("div",null,l.a.createElement("button",{onClick:this.RoomsRedirect,class:"btn btn-primary"},"Back")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col roomInfo container"},l.a.createElement("button",{type:"button",class:"btn mb-2"},"Room no : ",l.a.createElement("span",{class:"badge badge-light"},this.no)),l.a.createElement("br",null),l.a.createElement("button",{type:"button",class:"btn mb-2"},"Floor no :   ",l.a.createElement("span",{class:"badge badge-light"},this.floor)),l.a.createElement("div",null,l.a.createElement("button",{type:"button",className:"btn mb-2",id:"RoomStatusBtn"},"Contaminated  : ",l.a.createElement("span",{class:"badge badge-light"},this.state.room.status)))),e))}}]),a}(n.Component);var G=function(e){var a=function(){return"Institutions"===e.currInstitutionsTab?l.a.createElement(x,{type:e.type,institutionId:e.institutionId,taluk:e.taluk}):"Rooms"===e.currInstitutionsTab?l.a.createElement(L,null):"Inmate"===e.currInstitutionsTab?l.a.createElement(U,null):void 0};return"superadmin"===e.type||"admin"===e.type?l.a.createElement("div",{className:"row-12"},l.a.createElement("div",{className:"tab-content ml-4",id:"v-pills-tabContent"},l.a.createElement("div",{className:"tab-pane fade",id:"v-pills-home",role:"tabpanel","aria-labelledby":"v-pills-home-tab"},l.a.createElement(k,null)),l.a.createElement("div",{className:"tab-pane fade p-2",id:"v-pills-institution",role:"tabpanel","aria-labelledby":"v-pills-institution-tab"},l.a.createElement("h2",null,e.currTab)," ",a()),l.a.createElement("div",{class:"tab-pane fade",id:"v-pills-user",role:"tabpanel","aria-labelledby":"v-pills-user-tab"},l.a.createElement(I,{type:e.type})))):"dashboard"===e.type?l.a.createElement("div",{className:"row-12"},l.a.createElement("div",{className:"tab-content ml-4",id:"v-pills-tabContent"},l.a.createElement("div",{className:"tab-pane fade",id:"v-pills-home",role:"tabpanel","aria-labelledby":"v-pills-home-tab"},l.a.createElement(k,null)))):"taluk"===e.type?l.a.createElement("div",{className:"row-12"},l.a.createElement("div",{className:"tab-content ml-4",id:"v-pills-tabContent"},l.a.createElement("div",{className:"tab-pane fade p-2",id:"v-pills-institution",role:"tabpanel","aria-labelledby":"v-pills-institution-tab"},l.a.createElement("h2",null,e.currTab)," ",a()))):"airport"===e.type?l.a.createElement("div",{className:"row-12"},l.a.createElement("div",{className:"tab-content ml-4",id:"v-pills-tabContent"})):"institution"===e.type?l.a.createElement("div",{className:"row-12"},l.a.createElement("div",{className:"tab-content ml-4",id:"v-pills-tabContent"},l.a.createElement("div",{className:"tab-pane fade p-2",id:"v-pills-institution",role:"tabpanel","aria-labelledby":"v-pills-institution-tab"},l.a.createElement("h2",null,e.currTab)," ",a()))):void 0};var W=function(e){return Object(n.useEffect)((function(){"superadmin"===e.type||"admin"===e.type?("Institutions"===window.localStorage.getItem("currTab")&&(document.getElementById("v-pills-home-tab").classList.remove("active"),document.getElementById("v-pills-home").classList.remove("active"),document.getElementById("v-pills-home").classList.remove("show"),document.getElementById("v-pills-institution-tab").classList.add("active"),document.getElementById("v-pills-institution").classList.add("active"),document.getElementById("v-pills-institution").classList.add("show")),"Home"===window.localStorage.getItem("currTab")&&(document.getElementById("v-pills-institution-tab").classList.remove("active"),document.getElementById("v-pills-institution").classList.remove("active"),document.getElementById("v-pills-institution").classList.remove("show"),document.getElementById("v-pills-home-tab").classList.add("active"),document.getElementById("v-pills-home").classList.add("active"),document.getElementById("v-pills-home").classList.add("show"))):"taluk"!==e.type&&"institution"!==e.type||(document.getElementById("v-pills-institution-tab").classList.add("active"),document.getElementById("v-pills-institution").classList.add("active"),document.getElementById("v-pills-institution").classList.add("show"))})),l.a.createElement("div",{className:"row p-3"},l.a.createElement("div",{class:"col"},l.a.createElement(h,{currInstitutionsTab:e.currInstitutionsTab,type:e.type,logoutParent:function(){d.a.get("https://www.ccctsr.in/api/delsession?id="+window.localStorage.getItem("session")).catch((function(e){return console.log(e)})),window.localStorage.removeItem("currTab"),window.localStorage.removeItem("taluk"),window.localStorage.removeItem("village"),window.localStorage.removeItem("session"),window.location.replace("/")},taluk:e.taluk}),l.a.createElement(G,{currInstitutionsTab:e.currInstitutionsTab,type:e.type,institutionId:e.institutionId,taluk:e.taluk})))},q=t(15);var _=function(){var e=Object(n.useState)(""),a=Object(c.a)(e,2),t=a[0],o=a[1],r=Object(n.useState)(""),s=Object(c.a)(r,2),i=s[0],m=s[1],u=Object(n.useState)(""),h=Object(c.a)(u,2),b=h[0],E=h[1],g=function(){d.a.get("https://www.ccctsr.in/api/?id="+window.localStorage.getItem("session")).then((function(e){"institution"===e.data.type&&m(e.data.id),"taluk"===e.data.type&&E(e.data.taluk),o(e.data.type)})).catch((function(e){return console.log(e)}))};return Object(n.useEffect)((function(){g()}),[]),console.log(b),window.localStorage.getItem("session")?"admin"===t||"dashboard"===t||"airport"===t||"institution"===t||"superadmin"===t||"taluk"===t?("admin"===t||"superadmin"===t||"dashboard"===t?window.localStorage.setItem("currTab","Home"):"institution"!==t&&"taluk"!==t||window.localStorage.setItem("currTab","Institution"),l.a.createElement("div",null,l.a.createElement(q.a,{exact:!0,path:"/",render:function(){return l.a.createElement(W,{currInstitutionsTab:"Institutions",type:t,institutionId:i,taluk:b})}}),l.a.createElement(q.a,{exact:!0,path:"/admin",render:function(){return l.a.createElement(W,{currInstitutionsTab:"Institutions",type:t,institutionId:i,taluk:b})}}),l.a.createElement(q.a,{exact:!0,path:"/admin/:id",render:function(){return l.a.createElement(W,{currInstitutionsTab:"Rooms",type:t,institutionId:i,taluk:b})}}),l.a.createElement(q.a,{exact:!0,path:"/admin/:id/:room/",render:function(){return l.a.createElement(W,{currInstitutionsTab:"Inmate",type:t,institutionId:i,taluk:b})}}))):""===t||void 0===t&&""!==b?l.a.createElement("div",null):l.a.createElement(q.a,{path:"/",render:function(){return l.a.createElement(p,{parentFunction:g})}}):l.a.createElement(q.a,{path:"/",render:function(){return l.a.createElement(p,{parentFunction:g})}})};Boolean("18.223.108.131"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Y=t(21);r.a.render(l.a.createElement(Y.a,null,l.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.75332795.chunk.js.map