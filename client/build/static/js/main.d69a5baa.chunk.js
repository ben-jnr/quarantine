(this["webpackJsonpmaaxo-react"]=this["webpackJsonpmaaxo-react"]||[]).push([[0],{36:function(e,a,t){e.exports=t(65)},41:function(e,a,t){},42:function(e,a,t){},65:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),o=t(33),r=t.n(o),s=(t(41),t(42),t(3)),c=t(4),i=t(6),m=t(1),u=t.n(m);var d=function(e){return l.a.createElement("div",{id:"login"},l.a.createElement("div",{className:"container col-lg-4 ",id:"Login"},l.a.createElement("h1",{className:"text-center loginH1"},"Swagatham"),l.a.createElement("form",{id:"loginForm"},l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",onChange:e.handleChangeParent,name:"username",id:"username",className:"form-control",placeholder:"Unique id"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"password",onChange:e.handleChangeParent,name:"password",id:"password",className:"form-control",placeholder:"Password"})),l.a.createElement("button",{type:"submit",onClick:e.handleSubmitParent,value:"Login",id:"loginButton",className:"btn btn-primary float-right"},"Login"))))};var p=function(e){var a={username:"",password:""},t=Object(n.useState)(a),o=Object(s.a)(t,2),r=o[0],m=o[1];return window.localStorage.removeItem("currTab"),window.localStorage.removeItem("taluk"),window.localStorage.removeItem("village"),window.localStorage.removeItem("session"),l.a.createElement("div",null,l.a.createElement(d,{handleChangeParent:function(e){m(Object(i.a)({},r,Object(c.a)({},e.target.name,e.target.value)))},handleSubmitParent:function(t){t.preventDefault(),document.getElementById("loginMessage").innerHTML="";var n={username:r.username,password:r.password};m(a),document.getElementById("username").value="",document.getElementById("password").value="";var l="http://18.223.108.131:9000/api/login?id="+window.localStorage.getItem("session");u.a.post(l,n,{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0}}).then((function(a){window.localStorage.setItem("session",a.data),e.parentFunction()})).catch((function(e){return console.log(e)}))}}),l.a.createElement("div",{id:"loginMessage"}))};var h=function(e){return"superadmin"===e.type||"admin"===e.type?l.a.createElement("div",{class:"col mb-3"},l.a.createElement("div",{className:"nav row nav-pills",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"},l.a.createElement("a",{className:"nav-link",id:"v-pills-home-tab","data-toggle":"pill",href:"#v-pills-home",role:"tab","aria-controls":"v-pills-home","aria-selected":"true"},"Home"),l.a.createElement("a",{className:"nav-link",id:"v-pills-institution-tab","data-toggle":"pill",href:"#v-pills-institution",role:"tab","aria-controls":"v-pills-profile","aria-selected":"false"},e.currInstitutionsTab),l.a.createElement("a",{className:"nav-link",id:"v-pills-user-tab","data-toggle":"pill",href:"#v-pills-user",role:"tab","aria-controls":"v-pills-messages","aria-selected":"false"},"Add User"),l.a.createElement("a",{className:"nav-link",id:"v-pills-logout",onClick:e.logoutParent,"data-toggle":"pill",href:"#v-pills-settings",role:"tab","aria-selected":"false"},"Logout"))):"dashboard"===e.type?l.a.createElement("div",{class:"col mb-3"},l.a.createElement("div",{className:"nav row nav-pills",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"},l.a.createElement("a",{className:"nav-link",id:"v-pills-home-tab","data-toggle":"pill",href:"#v-pills-home",role:"tab","aria-controls":"v-pills-home","aria-selected":"true"},"Home"),l.a.createElement("a",{className:"nav-link",id:"v-pills-logout",onClick:e.logoutParent,"data-toggle":"pill",href:"#v-pills-settings",role:"tab","aria-selected":"false"},"Logout"))):"taluk"===e.type?l.a.createElement("div",{class:"col mb-3"},l.a.createElement("div",{className:"nav row nav-pills",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"},l.a.createElement("a",{className:"nav-link",id:"v-pills-institution-tab","data-toggle":"pill",href:"#v-pills-institution",role:"tab","aria-controls":"v-pills-profile","aria-selected":"false"},e.currInstitutionsTab),l.a.createElement("a",{className:"nav-link",id:"v-pills-logout",onClick:e.logoutParent,"data-toggle":"pill",href:"#v-pills-settings",role:"tab","aria-selected":"false"},"Logout"))):"airport"===e.type?l.a.createElement("div",{class:"col mb-3"},l.a.createElement("div",{className:"nav row nav-pills",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"},l.a.createElement("a",{className:"nav-link",id:"v-pills-logout",onClick:e.logoutParent,"data-toggle":"pill",href:"#v-pills-settings",role:"tab","aria-selected":"false"},"Logout"))):"institution"===e.type?l.a.createElement("div",{class:"col mb-3"},l.a.createElement("div",{className:"nav row nav-pills",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"},l.a.createElement("a",{className:"nav-link",id:"v-pills-institution-tab","data-toggle":"pill",href:"#v-pills-institution",role:"tab","aria-controls":"v-pills-profile","aria-selected":"false"},e.currInstitutionsTab),l.a.createElement("a",{className:"nav-link",id:"v-pills-logout",onClick:e.logoutParent,"data-toggle":"pill",href:"#v-pills-settings",role:"tab","aria-selected":"false"},"Logout"))):void 0},g=t(8),E=t(9),v=t(11),b=t(10),y=t(12),f=function(e){function a(){return Object(g.a)(this,a),Object(v.a)(this,Object(b.a)(a).apply(this,arguments))}return Object(y.a)(a,e),Object(E.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"row mr-3 homeRow"},l.a.createElement("div",{className:"col-lg-3"},l.a.createElement("span",null,"District name")),l.a.createElement("div",{className:"col-lg-1"},l.a.createElement("span",{class:"badge badge-primary mr-2 homeBadge"},l.a.createElement("h5",null,"1"))),l.a.createElement("div",{className:"col-lg-1"},l.a.createElement("span",{class:"badge badge-success mr-2 homeBadge"},l.a.createElement("h5",null,"1"))),l.a.createElement("div",{className:"col-lg-1"},l.a.createElement("span",{class:"badge badge-danger mr-2 homeBadge"},l.a.createElement("h5",null,"1"))),l.a.createElement("div",{className:"col-6"},l.a.createElement("button",{className:"btn btn-primary float-right"},"View more")))}}]),a}(n.Component),k=function(e){function a(){var e,t;Object(g.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(t=Object(v.a)(this,(e=Object(b.a)(a)).call.apply(e,[this].concat(l)))).logout=function(){window.location.replace("/")},t}return Object(y.a)(a,e),Object(E.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row mt-3 mb-4"},l.a.createElement("div",{className:"col-3"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{class:"badge badge-primary mr-2 homeBadge"},l.a.createElement("h5",null,"1")),l.a.createElement("span",{className:""}," Total rooms"))),l.a.createElement("div",{className:"col-3"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{class:"badge badge-success mr-2 homeBadge"},l.a.createElement("h5",null,"1")),l.a.createElement("span",{className:""}," Useable rooms"))),l.a.createElement("div",{className:"col-3"},l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{class:"badge badge-danger mr-2 homeBadge"},l.a.createElement("h5",null,"1")),l.a.createElement("span",{className:""}," Unuseable rooms")))),l.a.createElement("div",{className:"info"},l.a.createElement(f,null)))}}]),a}(n.Component);var w=function(e){return l.a.createElement("div",{id:"userAddFrom",className:""},l.a.createElement("form",{className:"col-md-7"},l.a.createElement("h2",{className:"text-center"},"Add User"),l.a.createElement("hr",null),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"email",className:"form-control",id:"newUsername",onChange:e.handleChangeParent,name:"username",placeholder:"Enter email",required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"password",onChange:e.handleChangeParent,name:"password",className:"form-control",id:"newPassword",placeholder:"Password",required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"password",onChange:e.handleChangeParent,name:"confirmpassword",className:"form-control",id:"confirmPassword",placeholder:"Confirm Password",required:!0}))))};var C=function(e){return"superadmin"===e.type?l.a.createElement("div",null,l.a.createElement("h5",null,"Select User Type"),l.a.createElement("div",{className:"row mb-3 ml-2 userType"},l.a.createElement("div",{class:"custom-control custom-radio rBtn"},l.a.createElement("input",{type:"radio",id:"rBtn1",name:"type",value:"admin",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"rBtn1"},"Admin")),l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"rBtn2",name:"type",value:"dashboard",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"rBtn2"},"Dashboard")),l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"rBtn3",name:"type",value:"taluk",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"rBtn3"},"Taluk")),l.a.createElement("div",{class:"custom-control custom-radio ml-4 lastButton"},l.a.createElement("input",{type:"radio",id:"rBtn4",name:"type",value:"airport",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"rBtn4"},"Airport")))):"admin"===e.type?l.a.createElement("div",null,l.a.createElement("h5",null,"Select User Type"),l.a.createElement("div",{className:"row mb-3 ml-2"},l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"rBtn2",name:"type",value:"dashboard",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"rBtn2"},"Dashboard")),l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"rBtn3",name:"type",value:"taluk",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"rBtn3"},"Taluk")),l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"rBtn4",name:"type",value:"airport",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"rBtn4"},"Airport")))):void 0};var N=function(e){return"taluk"===e.type?l.a.createElement("div",{class:"col"},l.a.createElement("label",{for:"talukAdd"},"Taluk"),l.a.createElement("select",{class:"custom-select",name:"taluk",id:"talukAdd",size:"1",onChange:e.handleDropdownParent},l.a.createElement("option",{selected:!0},"Choose..."),l.a.createElement("option",{value:"Chavakkad"},"Chavakkad"),l.a.createElement("option",{value:"Chalakudy"},"Chalakudy"),l.a.createElement("option",{value:"Kodungallur"},"Kodungallur"),l.a.createElement("option",{value:"Kunnamkulam"},"Kunnamkulam"),l.a.createElement("option",{value:"Mukunthapuram"},"Mukundapuram"),l.a.createElement("option",{value:"Thalapilly"},"Thalappally"),l.a.createElement("option",{value:"Thrissur"},"Thrissur"))):l.a.createElement("div",null)};var I=function(e){var a={username:"",password:"",confirmpassword:"",type:"",taluk:""},t=Object(n.useState)(a),o=Object(s.a)(t,2),r=o[0],m=o[1],d=function(e){m(Object(i.a)({},r,Object(c.a)({},e.target.name,e.target.value)))};return l.a.createElement("div",{className:"container col-lg-8 col-sm-4 addUser"},l.a.createElement(w,{handleChangeParent:d}),l.a.createElement(C,{handleChangeParent:d,type:e.type}),l.a.createElement(N,{handleDropdownParent:function(e){m(Object(i.a)({},r,Object(c.a)({},e.target.name,e.target.options[e.target.options.selectedIndex].value)))},type:r.type}),l.a.createElement("button",{type:"submit",id:"addUser",className:"float-right btn btn-primary",onClick:function(e){var t;e.preventDefault(),document.getElementById("passwordMismatch").innerHTML="";if(""!==r.username&&""!==r.password&&""!==r.confirmpassword&&""!==r.type){if(r.password===r.confirmpassword){if("taluk"===r.type){if(""===r.taluk)return void(document.getElementById("passwordMismatch").innerHTML="Empty Fields Present");t={username:r.username,password:r.password,type:r.type,taluk:r.taluk}}else t={username:r.username,password:r.password,type:r.type};var n="http://18.223.108.131:9000/api/useradd?id="+window.localStorage.getItem("session");u.a.post(n,t,{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0}}).then((function(e){"connection closed"===e.data&&(alert(e.data),window.location.replace("/")),document.getElementById("passwordMismatch").innerHTML=e.data,"institution"===r.type&&r.taluk===window.localStorage.getItem("location")&&window.location.reload()})).catch((function(e){return console.log(e)}))}else document.getElementById("passwordMismatch").innerHTML="Password Mismatch";!function(){m(a),document.getElementById("newUsername").value="",document.getElementById("newPassword").value="",document.getElementById("confirmPassword").value="";for(var e=document.getElementsByName("type"),t=0;t<e.length;t++)e[t].checked=!1}()}else document.getElementById("passwordMismatch").innerHTML="Empty Fields Present"}},"Add User"),l.a.createElement("div",{id:"passwordMismatch"}))};var P=function(e){return l.a.createElement("div",{className:"inst-only"},l.a.createElement("div",null,l.a.createElement("div",{class:"form-group col"},l.a.createElement("label",{for:"instName"},"Institution Name"),l.a.createElement("input",{type:"text",name:"name",class:"form-control",id:"instName",placeholder:"Name of institution",onChange:e.handleChangeParent})),l.a.createElement("h6",null,"Institution Type?"),l.a.createElement("div",{className:"inst-type"},l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"type1",name:"type",value:"hotel/lodge",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"type1"},"Hotel/Lodge")),l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"type2",name:"type",value:"hostel",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"type2"},"Hostel")),l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"type3",name:"type",value:"educational institution",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"type3"},"Educational Institution"))),l.a.createElement("h6",null,"Structurally Fit?"),l.a.createElement("div",{className:"inst-sfit"},l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"sfit1",name:"fit",value:"yes",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"sfit1"},"Yes")),l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"sfit2",name:"fit",value:"no",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"sfit2"},"No"))),"taluk"!==e.type?l.a.createElement("div",{class:"col"},l.a.createElement("label",{for:"talukAdd"},"Taluk"),l.a.createElement("select",{class:"custom-select",name:"taluk",id:"talukAdd",size:"1",onChange:e.handleDropdownParent},l.a.createElement("option",{selected:!0,value:"Choose"},"Choose"),l.a.createElement("option",{value:"Chavakkad"},"Chavakkad"),l.a.createElement("option",{value:"Chalakudy"},"Chalakkudy"),l.a.createElement("option",{value:"Kodungallur"},"Kodungallur"),l.a.createElement("option",{value:"Kunnamkulam"},"Kunnamkulam"),l.a.createElement("option",{value:"Mukunthapuram"},"Mukundapuram"),l.a.createElement("option",{value:"Thalapilly"},"Thalappally"),l.a.createElement("option",{value:"Thrissur"},"Thrissur"))):l.a.createElement("div",null)))};var A=function(e){return l.a.createElement("div",{class:"mb-3 col-lg-6"},l.a.createElement("label",{htmlFor:"locTaluk"},"Taluk"),l.a.createElement("select",{class:"custom-select",name:"taluk",id:"locTaluk",onChange:e.handleTalukParent},l.a.createElement("option",{selected:!0,value:"Chavakkad"},"Chavakkad"),l.a.createElement("option",{value:"Chalakudy"},"Chalakudy"),l.a.createElement("option",{value:"Kodungallur"},"Kodungallur"),l.a.createElement("option",{value:"Kunnamkulam"},"Kunnamkulam"),l.a.createElement("option",{value:"Mukunthapuram"},"Mukunthapuram"),l.a.createElement("option",{value:"Thalapilly"},"Thalapilly"),l.a.createElement("option",{value:"Thrissur"},"Thrissur")))},B={Choose:[],"":[],Chalakudy:["Aloor","Annallur","Athirapilly","E.Chalakudy","Kakkulissery","Kallettumkara","Kallurthekkumury","Kallurvadakkumurry","Kizhakkumury","Kodakara","Kodassery","Kuruvilassery","Kuttichira","Mattathur","Meloor","Mupliyam","Nadipulam","Pariyaram","Thazhakkad","Thirumukkulam","Vadama","Varantharapilly","Vellikulangara","W. Chalakudy"],Chavakkad:["Elavally","Engandiyoor","Guruvayur","Kadappuram","Manathala","Mullassery","Nattika","Orumanayoor","Pavaraty","Pookode","Punnayoor","Punnayoorkulam","Thaikkad Part","Thalikulam","Vadakkekkad","Valappad","Vatanapally","Venkidagu"],Kodungallur:["Aazhikode","Ala","Edathurithy","Edavilangu","Eriyad","Kaippamangalam","Koolimuttam","Lokamalleswaram","Methala","P.Vemballur","Pappinivattom","Perinjanam","Poyya","Pullut"],Kunnamkulam:["Aloor","Anjur","Arthat","Chemanthatta","Choondal","Chowannur","Eranellur","Eyyal","Kadangoe","Kadavallur","Kandanissery","Kanippayur Village Part","Kattakambal","Kottapuram","Kumaranellur","Kunnamkulam","Nelluvai","Porkulam","Vellattanjur"],Mukunthapuram:["Amballur","Ananthapuram","Chengalur","Edathirinji","Irinjalakuda","Kaduppassery","Karalam Part","Karumathra","Kattoor","Kottanellur","Madayikonam","Manavalassery Part","Muriyad","Nellai","Nenmanikkara","Padiyoor","Parappukara","Poomangalam","Porathissery","Pullur","Puthenchira","Thekkumkara","Thoravu","Thottipal","Thrikkur","Vadakkumkara","Vallivattom","Velukara"],Thalapilly:["Arankottukara","Attoor","Chelakara","Chelakode","Cheruthuruthy","Deshamangalam","Elanad","Enkakkad","Kondazhi","Kumaranellur","Kurumala","Pambady","Panjhal","Pazhayannur","Peringadoor","Puthuruthy","Thekkumkara","Thiruvillamala","Vadakkethara","Varavoor","Venganellur","Wadakkancherry"],Thrissur:["Adat","Alappad","Anjur","Anthikkad","Aranattukara","Arattupuzha","Avanoor","Avinissery ","Ayyanthole","Chazhur","Chembukkavu","Cherpu","Chevoor","Chilliapilly","Chiyyaram Part","Choolissery","Edakalathur","Edakunni","Injamudi","Kainoor","Kanimangalam","Karamukku","Killannur","Kizhpullikara","Kolazhi","Koorkkenchery Part","Kozhukully","Kurichikara","Kurimbilavu","Kuttur","Madakkathara","Manakodi","Manaloor","Manamangalam","Marathakara","Mulayam","Nadathara","Ollukara","Ollur Part","Padiyam","Pananchery","Parakkad","Paralam","Peechi","Peramangalam","Peringavu","Pullu","Puthur","Puzhakkal","Thangalur","Thannyam","Tholur","Thrissur","Vadakkumury","Vallachira","Vellanikara","Venginissery","Vilvattom","Viyyur"]};var O=function(e){return Object(n.useEffect)((function(){var a=document.getElementById("villageAdd");a.options.length=1;for(var t=0;t<B[e.taluk].length;t++)a.options[a.options.length]=new Option(B[e.taluk][t],B[e.taluk][t])}),[e.taluk]),l.a.createElement("div",{class:"col"},l.a.createElement("label",{for:"villageAdd"},"Village"),l.a.createElement("select",{class:"custom-select",name:"village",id:"villageAdd",size:"1",onChange:e.handleDropdownParent},l.a.createElement("option",{value:"",defaultValue:!0},"Choose")))};var j=function(e){return l.a.createElement("div",null,l.a.createElement("div",{class:"col"},l.a.createElement("label",{for:"constituencyAdd"},"Constituency"),l.a.createElement("select",{class:"custom-select",name:"constituency",id:"constituencyAdd",size:"1",onChange:e.handleDropdownParent},l.a.createElement("option",{value:"Choose",selected:!0},"Choose"),l.a.createElement("option",{value:"Chalakudy"},"Chalakudy"),l.a.createElement("option",{value:"Chelakara"},"Chelakara"),l.a.createElement("option",{value:"Guruvayur"},"Guruvayur"),l.a.createElement("option",{value:"Irinjalakuda"},"Irinjalakuda"),l.a.createElement("option",{value:"Kaippamangalam"},"Kaippamangalam"),l.a.createElement("option",{value:"Kodungallur"},"Kodungallur"),l.a.createElement("option",{value:"Kunnamkulam"},"Kunnamkulam"),l.a.createElement("option",{value:"Manalur"},"Manalur"),l.a.createElement("option",{value:"Nattika"},"Nattika"),l.a.createElement("option",{value:"Ollur"},"Ollur"),l.a.createElement("option",{value:"Puthukkad"},"Puthukkad"),l.a.createElement("option",{value:"Thrissur"},"Thrissur"),l.a.createElement("option",{value:"Wadakkanchery"},"Wadakkanchery"))))},T={Choose:[],"":[],Chelakara:["Chelakara","Deshamangalam","Kondazhi","Mullurkara","Panjhal","Pazhayannur","Thiruvillamala","Vallathole Nagar","Varavoor"],Kunnamkulam:["Chowannur","Erumapetty","Kadavallur","Kandangode","Kattakambal","Kunnamkulam","Municipality","Porkulam","Velur"],Wadakkanchery:["Adat","Avanoor","Kaiparamaba","Kolazhi","Mulamkunnathukavu","Municipality","Thekkumkara","Tholur","Wadkkanchery"],Guruvayur:["Chavakkad Municipality","Engandiyoor","Guruvayur Municipality","Kadappuram","Orumanayoor","Punnayoor","Punnayoorkulam","Vadakkekkad"],Manalur:["Arimbur","Choondal","Elavally","Guruvayur Municipality","Kandanissery","Manaloor","Mullassery","Pavaraty","Vatanapally","Venkidagu"],Ollur:["Madakkathara","Nadathara","Pananchery","Puthur","Thrissur Corporation"],Thrissur:["Thrissur Corporation"],Nattika:["Anthikkad","Avinissery","Chazhur","Cherpu","Nattika","Paralam","Thalikulam","Thannyam","Valappad"],Irinjalakuda:["Aloor","Irinjalakuda Municipality","Karalam","Kattoor","Muriyad","Padiyoor","Poomangalam","Velukara"],Puthukkad:["Alagappa Nagar","Mattathur","Nenmanikkara","Parappukara","Puthukkad","Thrikkur","Vallchira","Varantharapilly"],Kaippamangalam:["Edathurithy","Edavilangu","Eriyad","Kaippamangalam","Mathilakam","Perinjanam","SN Puram"],Chalakudy:["Athirapilly","Chalakudy Municipality","Kadukutty","Kodakara","Kodassery","Koratty","Meloor","Pariyarma"],Kodungallur:["Annammanada","Kodugallur Municipality","Kuzhoor","Mala","Poyya","Puthenchira","Vellangallur"]};var S=function(e){return Object(n.useEffect)((function(){var a=document.getElementById("panchayatAdd");a.options.length=1;for(var t=0;t<T[e.constituency].length;t++)a.options[a.options.length]=new Option(T[e.constituency][t],T[e.constituency][t])}),[e.constituency]),l.a.createElement("div",{class:"col"},l.a.createElement("label",{for:"panchayatAdd"},"Panchayat"),l.a.createElement("select",{class:"custom-select",name:"panchayat",id:"panchayatAdd",size:"1",onChange:e.handleDropdownParent},l.a.createElement("option",{value:"",defaultValue:!0},"Choose")))};var M=function(e){return Object(n.useEffect)((function(){var a=document.getElementById("villageSearch");a.options.length=0;for(var t=0;t<B[e.taluk].length;t++)a.options[t]=new Option(B[e.taluk][t],B[e.taluk][t])}),[e.taluk]),l.a.createElement("div",{class:"col-lg-6"},l.a.createElement("label",{for:"villageSearch"},"Village"),l.a.createElement("select",{class:"custom-select",name:"village",id:"villageSearch",size:"1",onChange:e.handleVillageParent},l.a.createElement("option",{value:"",defaultValue:!0},"Choose")))};var K=function(e){var a=Object(n.useState)(""),t=Object(s.a)(a,2),o=t[0],r=t[1],m=Object(n.useState)(window.localStorage.getItem("taluk")),d=Object(s.a)(m,2),p=d[0],h=d[1],g=Object(n.useState)(window.localStorage.getItem("village")),E=Object(s.a)(g,2),v=E[0],b=E[1],y=Object(n.useState)({type:"",taluk:"",village:"",constituency:"",panchayat:"",priority:0,fit:""}),f=Object(s.a)(y,2),k=f[0],w=f[1],C=Object(n.useState)([]),N=Object(s.a)(C,2),I=N[0],T=N[1],K=function(e){w(Object(i.a)({},k,Object(c.a)({},e.target.name,e.target.value)))},x=function(e){w(Object(i.a)({},k,Object(c.a)({},e.target.name,e.target.options[e.target.options.selectedIndex].value)))},L=function(e){h(e.target.options[e.target.options.selectedIndex].value),b(B[e.target.options[e.target.options.selectedIndex].value][0]),window.localStorage.setItem("taluk",e.target.options[e.target.options.selectedIndex].value)},V=function(e){b(e.target.options[e.target.options.selectedIndex].value),window.localStorage.setItem("village",e.target.options[e.target.options.selectedIndex].value)},R=function(e){window.location.assign(e)},D=function(){var a="http://18.223.108.131:9000/api/institution?taluk="+p+"&village="+v+"&id="+window.localStorage.getItem("session")+"&institutionId="+e.institutionId;u.a.get(a).then((function(t){"connection closed"===t.data&&(alert(t.data),window.location.replace("/"));var n=t.data.map((function(t){return l.a.createElement("div",{key:t._id,className:"InstitutionsContainer"},l.a.createElement("div",{class:"card mb-2"},l.a.createElement("div",{class:"card-body"},l.a.createElement("h5",{className:"card-title"},t.name),l.a.createElement("h6",{className:"card-title"},t.type),l.a.createElement("h6",{className:"card-title"},"Structurally Fit : ",t.fit),l.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},t.district),l.a.createElement("button",{type:"button",class:"btn btn-primary mr-3 mb-2"},"Total Rooms ",l.a.createElement("button",{class:"btn btn-light roomBadge"},t.rooms.length)),l.a.createElement("button",{type:"button",class:"btn btn-warning mr-3 mb-2"},"Vacant ",l.a.createElement("button",{class:"btn btn-light roomBadge"},function(e){for(var a=0,t=0;t<e.length;t++)console.log(e[t]),""===e[t].emigrantId&&a++;return a}(t.rooms))),l.a.createElement("button",{type:"button",class:"btn btn-warning mr-3 mb-2"},"Ready ",l.a.createElement("button",{class:"btn btn-light roomBadge"},function(e){for(var a=0,t=0;t<e.length;t++)"yes"===e[t].ready&&a++;return a}(t.rooms))),l.a.createElement("button",{type:"button",class:"btn btn-success mr-3 mb-2"},"Decontaminated ",l.a.createElement("button",{class:"btn btn-light roomBadge"},function(e){for(var a=0,t=0;t<e.length;t++)"no"===e[t].status&&a++;return a}(t.rooms))),l.a.createElement("br",null),l.a.createElement("button",{className:"btn btn-primary  mt-2 ml-2 float-right",onClick:R.bind(a,"/admin/"+t._id)},"Check Rooms"),(n=t._id,"institution"!==e.type?l.a.createElement("button",{className:"btn btn-danger DeleteInstitution mt-2 float-right",onClick:H.bind(n,n)},"Delete"):l.a.createElement("div",null)))));var n}));r(n)})).catch((function(e){return console.log(e)}))},H=function(e){if(window.confirm("Are you sure?")){var a="http://18.223.108.131:9000/api/institution/delete/"+e+"?id="+window.localStorage.getItem("session");u.a.get(a).catch((function(e){return console.log(e)}))}window.localStorage.setItem("taluk",p),D()},z=function(e){if(e.preventDefault(),document.getElementById("institutionAddMssg").innerHTML="",""!==k.name&&""!==k.type&&""!==k.taluk&&""!==k.village&&""!==k.constituency&&""!==k.panchayat&&""!==k.fit){var a=Object(i.a)({},k,{rooms:[]}),t="http://18.223.108.131:9000/api/institution/add?id="+window.localStorage.getItem("session");u.a.post(t,a,{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0}}).then((function(e){"string"===typeof e.data?"connection closed"===e.data?(alert(e.data),window.location.replace("/")):document.getElementById("institutionAddMssg").innerHTML=e.data:(document.getElementById("institutionAddMssg").innerHTML=e.data.mssg,console.log(e.data.data))})).catch((function(e){return console.log(e)}))}else document.getElementById("institutionAddMssg").innerHTML="Empty Fields Present";T(o),document.getElementById("instName").value="";for(var n=document.getElementsByName("type"),l=0;l<n.length;l++)n[l].checked=!1;n=document.getElementsByName("fit");for(l=0;l<n.length;l++)n[l].checked=!1;null!==document.getElementById("talukAdd")&&(document.getElementById("talukAdd").options.selectedIndex=0),document.getElementById("villageAdd").options.selectedIndex=0,document.getElementById("constituencyAdd").options.selectedIndex=0,document.getElementById("panchayatAdd").options.selectedIndex=0};return Object(n.useEffect)((function(){"taluk"===e.type?(h(e.taluk),b(B[e.taluk][0]),w(Object(i.a)({},k,{taluk:e.taluk})),window.localStorage.setItem("village",B[e.taluk][0])):"taluk"!==e.type&&window.localStorage.setItem("village","Engandiyoor")}),[e.taluk]),Object(n.useEffect)((function(){D(),h(e.taluk),window.localStorage.setItem("currTab","Institutions")}),[e.taluk,p,v,I]),l.a.createElement("div",{id:"InstitutionTab p-2",className:"search"},function(){if("institution"!==e.type)return l.a.createElement("div",{id:"institutionForm",className:"inst"},l.a.createElement("div",{class:"accordion",id:"accordionExample"},l.a.createElement("div",{class:"card p-0 m-0"},l.a.createElement("div",{class:"card-header text-center",id:"headingOne"},l.a.createElement("button",{class:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"},l.a.createElement("h2",null,"Add Institution"))),l.a.createElement("div",{id:"collapseOne",class:"collapse","aria-labelledby":"headingOne","data-parent":"#accordionExample"},l.a.createElement("div",{class:"card-body"},l.a.createElement("div",{className:"inst-details"},l.a.createElement(P,{type:e.type,handleDropdownParent:x,handleChangeParent:K}),l.a.createElement("div",{className:"lsgd"},l.a.createElement(O,{taluk:k.taluk,handleDropdownParent:x}),l.a.createElement(j,{handleDropdownParent:x}),l.a.createElement(S,{constituency:k.constituency,handleDropdownParent:x}),l.a.createElement("div",{class:"sbmt-btn"},l.a.createElement("button",{className:"btn",onClick:z},"Submit")),l.a.createElement("div",{id:"institutionAddMssg"}))))))))}(),l.a.createElement("hr",null),l.a.createElement("h2",{className:"text-center mb-4"},"Search"),"taluk"===e.type?l.a.createElement("div",null,l.a.createElement(M,{handleVillageParent:V,taluk:p})):"institution"!==e.type?l.a.createElement("div",{className:"row mt-3 mb-4"},l.a.createElement(A,{handleTalukParent:L}),l.a.createElement(M,{handleVillageParent:V,taluk:p})):l.a.createElement("div",null),o)};var x=function(e){return l.a.createElement("div",{className:"col"},l.a.createElement("div",{class:"accordion"},l.a.createElement("div",{class:"card mb-4"},l.a.createElement("button",{className:"btn btn-primary btn-block mr-2",onClick:e.institutionsRedirectParent},"Prev page ",l.a.createElement("i",{className:"fa fa-arrow-left "})),l.a.createElement("div",{class:"card-header",id:"headingOne"},l.a.createElement("h2",{class:"mb-0"},l.a.createElement("button",{class:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"},l.a.createElement("h3",null,"Add Room info")))),l.a.createElement("div",{id:"collapseOne",class:"collapse","aria-labelledby":"headingOne","data-parent":"#accordionExample"},l.a.createElement("div",{class:"card-body"},l.a.createElement("form",{className:"p-2 col"},l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col"},l.a.createElement("label",null,"Room No/Name"),l.a.createElement("input",{type:"text",id:"roomNo",name:"no",className:"form-control",placeholder:"Room No",onChange:e.handleChangeParent})),l.a.createElement("div",{className:"form-group col"},l.a.createElement("label",null,"No of beds"),l.a.createElement("input",{type:"number",id:"roomBeds",name:"beds",className:"form-control",placeholder:"Room No",onChange:e.handleChangeParent}))),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col"},l.a.createElement("label",null,"Attached Bathroom ?"),l.a.createElement("div",{className:"row mb-3 ml-2"},l.a.createElement("div",{class:"custom-control custom-radio"},l.a.createElement("input",{type:"radio",id:"attchBath1",name:"bathroom",value:"yes",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"attchBath1"},"Yes")),l.a.createElement("div",{class:"custom-control custom-radio ml-2"},l.a.createElement("input",{type:"radio",id:"attchBath2",name:"bathroom",value:"no",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"attchBath2"},"No")))),l.a.createElement("div",{className:"form-group col"},l.a.createElement("label",null,"Disable Friendly?"),l.a.createElement("div",{className:"row mb-3 ml-3"},l.a.createElement("div",{class:"custom-control custom-radio"},l.a.createElement("input",{type:"radio",id:"disable1",name:"disable",value:"yes",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"disable1"},"Yes")),l.a.createElement("div",{class:"custom-control custom-radio ml-2"},l.a.createElement("input",{type:"radio",id:"disable2",name:"disable",value:"no",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"disable2"},"No"))))),l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("label",{className:"input-group-text",htmlFor:"inputGroupSelect01"},"Status")),l.a.createElement("select",{className:"custom-select",id:"roomStatus",name:"status",onChange:e.handleDropdownParent},l.a.createElement("option",{defaultValue:!0},"Choose..."),l.a.createElement("option",{value:"no"},"Decontaminated"),l.a.createElement("option",{value:"yes"},"Contaminated"))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Ready to Occupy"),l.a.createElement("div",{className:"row mb-3 ml-2"},l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"ready1",name:"ready",value:"yes",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"ready1"},"Yes")),l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"ready2",name:"ready",value:"no",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"ready2"},"No")))),l.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:e.handleSubmitParent},"Add room")),"      ")))))};var L=function(e){var a=Object(n.useState)({no:0,beds:0,status:"",ready:"",bathroom:"",disable:""}),t=Object(s.a)(a,2),o=t[0],r=t[1],m=Object(n.useState)([]),d=Object(s.a)(m,2),p=d[0],h=d[1],g=Object(n.useState)([]),E=Object(s.a)(g,2),v=E[0],b=E[1],y=window.location.pathname.split("/")[2],f=function(e){if(window.confirm("Are you sure?")){var a="http://18.223.108.131:9000/api/rooms/"+e+"/delete?id="+window.localStorage.getItem("session")+"&institutionId="+y;u.a.get(a).then((function(e){"connection closed"===e.data&&(alert("connection closed"),window.location.replace("/")),"Room Successfully Deleted"===e.data.mssg&&b(e.data.rooms)})).catch((function(e){return console.log(e)}))}},k=function(e){window.location.assign(e)},w=function(e){return e.map((function(e){return l.a.createElement("div",{className:"RoomsContainer",key:e.no},l.a.createElement("div",{className:"card mb-2"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",{className:"card-title"},"Room No: ",e.no),l.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Vacancy: ",""===e.name?"yes":"no"),l.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"No of Beds: ",e.beds),l.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Attached Bathroom: ",e.bathroom),l.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Disable Friendly: ",e.disable),l.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Contaminated: ",e.status),l.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Ready: ",e.ready),l.a.createElement("button",{className:"btn btn-primary  mt-2 ml-2 float-right",onClick:k.bind(void 0,"/admin/"+y+"/"+e.no)},"Info"),l.a.createElement("button",{className:"btn btn-danger DeleteInstitution mt-2 float-right",onClick:f.bind(void 0,e.no)},"Delete"))))}))};return Object(n.useEffect)((function(){if(window.localStorage.setItem("currTab","Institutions"),0===v.length){var e="http://18.223.108.131:9000/api/rooms?id="+window.localStorage.getItem("session")+"&institutionId="+y;u.a.get(e).then((function(e){"connection closed"===e.data&&(alert("connection closed"),window.location.replace("/")),b(e.data),h(w(e.data))})).catch((function(e){return console.log(e)}))}else h(w(v))}),[v]),l.a.createElement("div",null,l.a.createElement("div",{className:"text-center"},l.a.createElement("h1",null,"Rooms information")),l.a.createElement("div",{className:"row mt-4"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement(x,{institutionsRedirectParent:function(){window.localStorage.setItem("currTab","Institutions"),window.location.assign("/admin")},handleChangeParent:function(e){r(Object(i.a)({},o,Object(c.a)({},e.target.name,e.target.value)))},handleDropdownParent:function(e){r(Object(i.a)({},o,Object(c.a)({},e.target.name,e.target.options[e.target.options.selectedIndex].value)))},handleSubmitParent:function(e){e.preventDefault(),document.getElementById("RoomAddMssg").innerHTML="";if(""!==o.no&&""!==o.status){var a={no:o.no,status:o.status,emigrantId:"",beds:o.beds,ready:o.ready,bathroom:o.bathroom,disable:o.disable},t="http://18.223.108.131:9000/api/rooms/add?id="+window.localStorage.getItem("session")+"&institutionId="+y;u.a.post(t,a,{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0}}).then((function(e){"string"===typeof e.data?"connection closed"===e.data?(alert(e.data),window.location.replace("/")):document.getElementById("RoomAddMssg").innerHTML=e.data:(b(e.data.rooms),document.getElementById("RoomAddMssg").innerHTML=e.data.mssg)})).catch((function(e){return console.log(e)}))}else document.getElementById("RoomAddMssg").innerHTML="Empty Field";r({no:0,status:""}),document.getElementById("roomNo").value="",document.getElementById("roomBeds").value="",document.getElementById("roomStatus").options.selectedIndex=0;for(var n=document.getElementsByName("bathroom"),l=0;l<n.length;l++)n[l].checked=!1;for(n=document.getElementsByName("disable"),l=0;l<n.length;l++)n[l].checked=!1;for(n=document.getElementsByName("ready"),l=0;l<n.length;l++)n[l].checked=!1}}),l.a.createElement("div",{id:"RoomAddMssg"})),l.a.createElement("div",{className:"col-lg-6"},p)))},V=function(e){function a(e){var t;Object(g.a)(this,a),(t=Object(v.a)(this,Object(b.a)(a).call(this,e))).componentDidMount=function(){var e="http://18.223.108.131:9000/api/"+t.name+"/"+t.district+"/"+t.no+"/"+t.floor+"/patient/";u.a.get(e).then((function(e){"Room Found"!==e.data.mssg?window.location.replace("/admin/"+t.name+"/"+t.district+"/"):t.setState({room:e.data.room},(function(){}))})).catch((function(e){return console.log(e)}))};var n=window.location.pathname;return t.name=n.split("/")[2],t.district=n.split("/")[3],t.no=n.split("/")[4],t.floor=n.split("/")[5],t.state={room:{}},t}return Object(y.a)(a,e),Object(E.a)(a,[{key:"render",value:function(){var e,a;"sick"==this.state.room.curr?(e="btn btn-danger",a="fa fa-thumbs-down"):(e="btn btn-success",a="fa fa-thumbs-up");return l.a.createElement("div",{class:"card"},l.a.createElement("div",{class:"card-header",id:this.state.room.name,style:{width:"330px"}},l.a.createElement("h5",{class:"mb-0"},l.a.createElement("button",{class:"btn btn-link","data-toggle":"collapse","data-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"},this.state.room.name))),l.a.createElement("div",{id:"collapseOne",class:"show","aria-labelledby":this.state.room.name,"data-parent":"#accordion"},l.a.createElement("div",{class:"card-body"},l.a.createElement("h5",{id:"inmateName"},this.state.room.name),l.a.createElement("p",{id:"inmateAge"},this.state.room.age),l.a.createElement("span",{className:"inmatePhn"},l.a.createElement("p",{id:"inmatePhone",className:"mr-3 mb-3"},l.a.createElement("i",{className:"fa fa-mobile fa-2x"})," ",this.state.room.phn)),l.a.createElement("p",{id:"inmateAddr"},this.state.room.address),l.a.createElement("button",{type:"button",class:"btn btn-warning mb-2"},"Date of check-in ",l.a.createElement("span",{class:"badge badge-light"},"Mar 30,2020")),l.a.createElement("br",null),l.a.createElement("button",{type:"button",class:"btn btn-success mb-2"},"Discharge date ",l.a.createElement("span",{class:"badge badge-light"},"Apr 10,2020")),l.a.createElement("br",null),l.a.createElement("button",{type:"button",className:e},"Health status ",l.a.createElement("span",{class:"badge badge-light"},this.state.room.curr," ",l.a.createElement("i",{className:a}))),l.a.createElement("br",null))))}}]),a}(n.Component),R=function(e){function a(e){var t;return Object(g.a)(this,a),(t=Object(v.a)(this,Object(b.a)(a).call(this,e))).handleSubmit=function(){if(window.confirm("Are you Sure?")){var e="http://18.223.108.131:9000"+window.location.pathname,a={name:"",age:"",phn:"",address:"",curr:"",prev:"",status:"yes"};u.a.post(e,a,{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0}}).catch((function(e){return console.log(e)})),t.props.parentRender(a)}},t}return Object(y.a)(a,e),Object(E.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h2",null,"Inmates"),l.a.createElement("div",{id:"accordion"},l.a.createElement(V,null)),l.a.createElement("div",null,l.a.createElement("button",{className:"btn btn-primary",onClick:this.handleSubmit},"Discharge")))}}]),a}(n.Component),D=t(18),H=function(e){function a(e){var t;Object(g.a)(this,a),(t=Object(v.a)(this,Object(b.a)(a).call(this,e))).handleChange=function(e){t.setState(Object(c.a)({},e.target.name,e.target.value))},t.handleSubmit=function(e){if(e.preventDefault(),""!==t.state.name&&""!==t.state.age&&""!==t.state.phn&&""!==t.state.address&&""!==t.state.curr){var a="http://18.223.108.131:9000/api/"+t.name+"/"+t.district+"/"+t.no+"/"+t.floor+"/",n={name:t.state.name,age:t.state.age,phn:t.state.phn,address:t.state.address,curr:t.state.curr,prev:t.state.prev,status:"yes"},l=Object(D.a)(t);u.a.post(a,n,{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0}}).then((function(e){console.log(e.data),l.props.parentRender(n)})).catch((function(e){console.log(e)}))}else document.getElementById("InmateAddMssg").innerHTML="Empty Fields";document.getElementById("InmateName").value="",document.getElementById("InmateAge").value="",document.getElementById("InmatePhone").value="",document.getElementById("InmateAddr").value="",document.getElementById("InmateHistory").value="",document.getElementById("sickbtn").style.opacity="100%",document.getElementById("finebtn").style.opacity="100%"},t.currentHealth=function(e){t.setState({curr:e});var a=e+"btn";document.getElementById(a).style.opacity="100%","fine"===e?document.getElementById("sickbtn").style.opacity="30%":document.getElementById("finebtn").style.opacity="30%"};var n=window.location.pathname;return t.name=n.split("/")[2],t.district=n.split("/")[3],t.no=n.split("/")[4],t.floor=n.split("/")[5],t.state={name:"",age:"",phn:"",address:"",curr:"",prev:""},t}return Object(y.a)(a,e),Object(E.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"input-group"},l.a.createElement("form",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{for:"inmateName"},"Name"),l.a.createElement("input",{type:"text",name:"name",className:"form-control",id:"InmateName",onChange:this.handleChange,placeholder:"Enter name"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{for:"exampleInputPassword1"},"Age"),l.a.createElement("input",{type:"text",min:"1",name:"age",className:"form-control",id:"InmateAge",onChange:this.handleChange,placeholder:"Age"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{for:"inmatePhone"},"Contact No"),l.a.createElement("input",{type:"text",name:"phn",className:"form-control",id:"InmatePhone",onChange:this.handleChange,placeholder:"Phone number"})),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",{for:"inmateAddr"},"Address"),l.a.createElement("textarea",{class:"form-control",id:"InmateAddr",rows:"3",name:"address",onChange:this.handleChange})),l.a.createElement("h4",null,"Current health status"),l.a.createElement("div",{className:"form-group mb-3",id:"stat"},l.a.createElement("buton",{id:"sickbtn",className:"btn btn-danger mr-3 mb-2",onClick:this.currentHealth.bind(this,"sick")},l.a.createElement("span",{className:"mt-2"},"sick ",l.a.createElement("i",{className:"fa fa-meh-o fa-1x"}))),l.a.createElement("buton",{id:"finebtn",className:"btn btn-success",onClick:this.currentHealth.bind(this,"fine")},l.a.createElement("span",null,"fine ",l.a.createElement("i",{className:"fa fa-smile-o fa-1x"})))),l.a.createElement("hr",null),l.a.createElement("div",{className:"form-group"},l.a.createElement("h4",null,"Previous medical history"),l.a.createElement("textarea",{class:"form-control",id:"InmateHistory",name:"prev",rows:"3",onChange:this.handleChange})),l.a.createElement("hr",null),l.a.createElement("button",{type:"submit",onClick:this.handleSubmit,className:"btn btn-primary btn-lg mt-3"},"Add inmate"),l.a.createElement("div",{id:"InmateAddMssg"})))}}]),a}(n.Component),z=0,F=function(e){function a(e){var t;Object(g.a)(this,a),(t=Object(v.a)(this,Object(b.a)(a).call(this,e))).RoomsRedirect=function(){var e="/admin/"+t.name+"/"+t.district+"/";window.location.assign(e)},t.componentDidMount=function(){z=1;var e="http://18.223.108.131:9000/api/"+t.name+"/"+t.district+"/"+t.no+"/"+t.floor+"/patient/";u.a.get(e).then((function(e){"Room Found"!==e.data.mssg?window.location.replace("/admin/"+t.name+"/"+t.district+"/"):t.setState({room:e.data.room})})).catch((function(e){return console.log(e)}))},t.decontaminate=function(){if(window.confirm("Are you sure?")){var e=t.state.room;e.status="no";var a="http://18.223.108.131:9000/api/"+t.name+"/"+t.district+"/"+t.no+"/"+t.floor;u.a.post(a,e,{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0}}).catch((function(e){return console.log(e)})),t.setState({status:"no"})}},t.parentRender=function(e){t.setState({room:e})};var n=window.location.pathname;return t.name=n.split("/")[2],t.district=n.split("/")[3],t.no=n.split("/")[4],t.floor=n.split("/")[5],t.state={room:{}},t}return Object(y.a)(a,e),Object(E.a)(a,[{key:"render",value:function(){var e;return""===this.state.room.name&&1===z?"yes"===this.state.room.status?(document.getElementById("RoomStatusBtn").classList.remove("btn-success"),document.getElementById("RoomStatusBtn").classList.add("btn-danger"),e=l.a.createElement("p",null,"DeContaminate the room !! ",l.a.createElement("button",{onClick:this.decontaminate,class:"btn btn-danger"},"Decontaminated!!"))):(document.getElementById("RoomStatusBtn").classList.add("btn-success"),document.getElementById("RoomStatusBtn").classList.remove("btn-danger"),e=l.a.createElement(H,{parentRender:this.parentRender})):1===z&&(e=l.a.createElement(R,{parentRender:this.parentRender}),document.getElementById("RoomStatusBtn").classList.remove("btn-success"),document.getElementById("RoomStatusBtn").classList.add("btn-danger")),l.a.createElement("div",{className:"container "},l.a.createElement("div",null,l.a.createElement("button",{onClick:this.RoomsRedirect,class:"btn btn-primary"},"Back")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col roomInfo container"},l.a.createElement("button",{type:"button",class:"btn mb-2"},"Room no : ",l.a.createElement("span",{class:"badge badge-light"},this.no)),l.a.createElement("br",null),l.a.createElement("button",{type:"button",class:"btn mb-2"},"Floor no :   ",l.a.createElement("span",{class:"badge badge-light"},this.floor)),l.a.createElement("div",null,l.a.createElement("button",{type:"button",className:"btn mb-2",id:"RoomStatusBtn"},"Contaminated  : ",l.a.createElement("span",{class:"badge badge-light"},this.state.room.status)))),e))}}]),a}(n.Component);var U=function(e){var a=function(){return"Institutions"===e.currInstitutionsTab?l.a.createElement(K,{type:e.type,institutionId:e.institutionId,taluk:e.taluk}):"Rooms"===e.currInstitutionsTab?l.a.createElement(L,null):"Inmate"===e.currInstitutionsTab?l.a.createElement(F,null):void 0};return"superadmin"===e.type||"admin"===e.type?l.a.createElement("div",{className:"row-12"},l.a.createElement("div",{className:"tab-content ml-4",id:"v-pills-tabContent"},l.a.createElement("div",{className:"tab-pane fade",id:"v-pills-home",role:"tabpanel","aria-labelledby":"v-pills-home-tab"},l.a.createElement(k,null)),l.a.createElement("div",{className:"tab-pane fade p-2",id:"v-pills-institution",role:"tabpanel","aria-labelledby":"v-pills-institution-tab"},l.a.createElement("h2",null,e.currTab)," ",a()),l.a.createElement("div",{class:"tab-pane fade",id:"v-pills-user",role:"tabpanel","aria-labelledby":"v-pills-user-tab"},l.a.createElement(I,{type:e.type})))):"dashboard"===e.type?l.a.createElement("div",{className:"row-12"},l.a.createElement("div",{className:"tab-content ml-4",id:"v-pills-tabContent"},l.a.createElement("div",{className:"tab-pane fade",id:"v-pills-home",role:"tabpanel","aria-labelledby":"v-pills-home-tab"},l.a.createElement(k,null)))):"taluk"===e.type?l.a.createElement("div",{className:"row-12"},l.a.createElement("div",{className:"tab-content ml-4",id:"v-pills-tabContent"},l.a.createElement("div",{className:"tab-pane fade p-2",id:"v-pills-institution",role:"tabpanel","aria-labelledby":"v-pills-institution-tab"},l.a.createElement("h2",null,e.currTab)," ",a()))):"airport"===e.type?l.a.createElement("div",{className:"row-12"},l.a.createElement("div",{className:"tab-content ml-4",id:"v-pills-tabContent"})):"institution"===e.type?l.a.createElement("div",{className:"row-12"},l.a.createElement("div",{className:"tab-content ml-4",id:"v-pills-tabContent"},l.a.createElement("div",{className:"tab-pane fade p-2",id:"v-pills-institution",role:"tabpanel","aria-labelledby":"v-pills-institution-tab"},l.a.createElement("h2",null,e.currTab)," ",a()))):void 0};var W=function(e){return Object(n.useEffect)((function(){"superadmin"===e.type||"admin"===e.type?("Institutions"===window.localStorage.getItem("currTab")&&(document.getElementById("v-pills-home-tab").classList.remove("active"),document.getElementById("v-pills-home").classList.remove("active"),document.getElementById("v-pills-home").classList.remove("show"),document.getElementById("v-pills-institution-tab").classList.add("active"),document.getElementById("v-pills-institution").classList.add("active"),document.getElementById("v-pills-institution").classList.add("show")),"Home"===window.localStorage.getItem("currTab")&&(document.getElementById("v-pills-institution-tab").classList.remove("active"),document.getElementById("v-pills-institution").classList.remove("active"),document.getElementById("v-pills-institution").classList.remove("show"),document.getElementById("v-pills-home-tab").classList.add("active"),document.getElementById("v-pills-home").classList.add("active"),document.getElementById("v-pills-home").classList.add("show"))):"taluk"!==e.type&&"institution"!==e.type||(document.getElementById("v-pills-institution-tab").classList.add("active"),document.getElementById("v-pills-institution").classList.add("active"),document.getElementById("v-pills-institution").classList.add("show"))})),l.a.createElement("div",{className:"row p-3"},l.a.createElement("div",{class:"col"},l.a.createElement(h,{currInstitutionsTab:e.currInstitutionsTab,type:e.type,logoutParent:function(){u.a.get("http://18.223.108.131:9000/api/delsession?id="+window.localStorage.getItem("session")).catch((function(e){return console.log(e)})),window.localStorage.removeItem("currTab"),window.localStorage.removeItem("taluk"),window.localStorage.removeItem("village"),window.localStorage.removeItem("session"),window.location.replace("/")},taluk:e.taluk}),l.a.createElement(U,{currInstitutionsTab:e.currInstitutionsTab,type:e.type,institutionId:e.institutionId,taluk:e.taluk})))},G=t(15);var q=function(){var e=Object(n.useState)(""),a=Object(s.a)(e,2),t=a[0],o=a[1],r=Object(n.useState)(""),c=Object(s.a)(r,2),i=c[0],m=c[1],d=Object(n.useState)(""),h=Object(s.a)(d,2),g=h[0],E=h[1],v=function(){u.a.get("http://18.223.108.131:9000/api/?id="+window.localStorage.getItem("session")).then((function(e){o(e.data.type),"institution"===e.data.type&&m(e.data.id),"taluk"===e.data.type&&E(e.data.taluk)})).catch((function(e){return console.log(e)}))};return Object(n.useEffect)((function(){v()}),[]),window.localStorage.getItem("session")?"admin"===t||"dashboard"===t||"airport"===t||"institution"===t||"superadmin"===t||"taluk"===t?("admin"===t||"superadmin"===t||"dashboard"===t?window.localStorage.setItem("currTab","Home"):"institution"!==t&&"taluk"!==t||window.localStorage.setItem("currTab","Institution"),""===g?window.localStorage.setItem("taluk","Chavakkad"):window.localStorage.setItem("taluk",g),l.a.createElement("div",null,l.a.createElement(G.a,{exact:!0,path:"/",render:function(){return l.a.createElement(W,{currInstitutionsTab:"Institutions",type:t,institutionId:i,taluk:g})}}),l.a.createElement(G.a,{exact:!0,path:"/admin",render:function(){return l.a.createElement(W,{currInstitutionsTab:"Institutions",type:t,institutionId:i,taluk:g})}}),l.a.createElement(G.a,{exact:!0,path:"/admin/:id",render:function(){return l.a.createElement(W,{currInstitutionsTab:"Rooms",type:t,institutionId:i,taluk:g})}}),l.a.createElement(G.a,{exact:!0,path:"/admin/:id/:room/",render:function(){return l.a.createElement(W,{currInstitutionsTab:"Inmate",type:t,institutionId:i,taluk:g})}}))):""===t?l.a.createElement("div",null):l.a.createElement(G.a,{path:"/",render:function(){return l.a.createElement(p,{parentFunction:v})}}):l.a.createElement(G.a,{path:"/",render:function(){return l.a.createElement(p,{parentFunction:v})}})};Boolean("18.223.108.131"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Y=t(20);r.a.render(l.a.createElement(Y.a,null,l.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.d69a5baa.chunk.js.map