(this["webpackJsonpmaaxo-react"]=this["webpackJsonpmaaxo-react"]||[]).push([[0],{37:function(e,t,a){e.exports=a(66)},42:function(e,t,a){},43:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(34),r=a.n(o),c=(a(42),a(43),a(2)),s=a(3),i=a(4),m=a(1),d=a.n(m);var u=function(e){return l.a.createElement("div",{id:"login"},l.a.createElement("div",{className:"container col-lg-4 ",id:"Login"},l.a.createElement("h1",{className:"text-center loginH1"},"Swagatham"),l.a.createElement("form",{id:"loginForm"},l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",onChange:e.handleChangeParent,name:"username",id:"username",className:"form-control",placeholder:"Unique id"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"password",onChange:e.handleChangeParent,name:"password",id:"password",className:"form-control",placeholder:"Password"})),l.a.createElement("div",{className:"input-row loaderDiv float-right"},l.a.createElement("button",{type:"submit",onClick:e.handleSubmitParent,value:"Login",id:"loginButton",className:"btn btn-primary"},"Login"),l.a.createElement("div",{className:"loader",id:"loader"}),l.a.createElement("div",{className:"loaderText",id:"loaderText"},"Verifying")))))};var p=function(e){var t={username:"",password:""},a=Object(n.useState)(t),o=Object(c.a)(a,2),r=o[0],m=o[1];return window.localStorage.removeItem("currTab"),window.localStorage.removeItem("taluk"),window.localStorage.removeItem("village"),window.localStorage.removeItem("session"),l.a.createElement("div",null,l.a.createElement(u,{handleChangeParent:function(e){m(Object(i.a)({},r,Object(s.a)({},e.target.name,e.target.value)))},handleSubmitParent:function(a){a.preventDefault(),document.getElementById("loginMessage").innerHTML="",document.getElementById("loginButton").style.display="none",document.getElementById("loader").style.visibility="visible",document.getElementById("loaderText").style.visibility="visible",setTimeout((function(){document.getElementById("loginMessage").innerHTML="";var a={username:r.username,password:r.password};m(t),document.getElementById("username").value="",document.getElementById("password").value="";var n="http://localhost:9000/api/login?id="+window.localStorage.getItem("session");d.a.post(n,a,{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0}}).then((function(t){"Invalid Credentials"===t.data&&(document.getElementById("loader").style.visibility="hidden",document.getElementById("loaderText").style.visibility="hidden",document.getElementById("loginMessage").innerHTML="Invalid Credentials",document.getElementById("loginButton").style.display="block"),window.localStorage.setItem("session",t.data),e.parentFunction()})).catch((function(e){return console.log(e)}))}),1e3)}}),l.a.createElement("div",{id:"loginMessage"}))};var E=function(e){return"superadmin"===e.type||"admin"===e.type?l.a.createElement("div",{class:"col mb-3"},l.a.createElement("div",{className:"nav row nav-pills",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"},l.a.createElement("a",{className:"nav-link",id:"v-pills-home-tab","data-toggle":"pill",href:"#v-pills-home",role:"tab","aria-controls":"v-pills-home","aria-selected":"true"},"Home"),l.a.createElement("a",{className:"nav-link",id:"v-pills-institution-tab","data-toggle":"pill",href:"#v-pills-institution",role:"tab","aria-controls":"v-pills-profile","aria-selected":"false"},e.currInstitutionsTab),l.a.createElement("a",{className:"nav-link",id:"v-pills-user-tab","data-toggle":"pill",href:"#v-pills-user",role:"tab","aria-controls":"v-pills-messages","aria-selected":"false"},"Add User"),l.a.createElement("a",{className:"nav-link",id:"v-pills-logout",onClick:e.logoutParent,"data-toggle":"pill",href:"#v-pills-settings",role:"tab","aria-selected":"false"},"Logout"))):"dashboard"===e.type?l.a.createElement("div",{class:"col mb-3"},l.a.createElement("div",{className:"nav row nav-pills",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"},l.a.createElement("a",{className:"nav-link",id:"v-pills-home-tab","data-toggle":"pill",href:"#v-pills-home",role:"tab","aria-controls":"v-pills-home","aria-selected":"true"},"Home"),l.a.createElement("a",{className:"nav-link",id:"v-pills-logout",onClick:e.logoutParent,"data-toggle":"pill",href:"#v-pills-settings",role:"tab","aria-selected":"false"},"Logout"))):"taluk"===e.type?l.a.createElement("div",{class:"col mb-3"},l.a.createElement("div",{className:"nav row nav-pills",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"},l.a.createElement("a",{className:"nav-link",id:"v-pills-institution-tab","data-toggle":"pill",href:"#v-pills-institution",role:"tab","aria-controls":"v-pills-profile","aria-selected":"false"},e.currInstitutionsTab),l.a.createElement("a",{className:"nav-link",id:"v-pills-logout",onClick:e.logoutParent,"data-toggle":"pill",href:"#v-pills-settings",role:"tab","aria-selected":"false"},"Logout"))):"airport"===e.type?l.a.createElement("div",{class:"col mb-3"},l.a.createElement("div",{className:"nav row nav-pills",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"},l.a.createElement("a",{className:"nav-link",id:"v-pills-logout",onClick:e.logoutParent,"data-toggle":"pill",href:"#v-pills-settings",role:"tab","aria-selected":"false"},"Logout"))):"institution"===e.type?l.a.createElement("div",{class:"col mb-3"},l.a.createElement("div",{className:"nav row nav-pills",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"},l.a.createElement("a",{className:"nav-link",id:"v-pills-institution-tab","data-toggle":"pill",href:"#v-pills-institution",role:"tab","aria-controls":"v-pills-profile","aria-selected":"false"},e.currInstitutionsTab),l.a.createElement("a",{className:"nav-link",id:"v-pills-logout",onClick:e.logoutParent,"data-toggle":"pill",href:"#v-pills-settings",role:"tab","aria-selected":"false"},"Logout"))):void 0};var h=function(e){var t=Object(n.useState)(""),a=Object(c.a)(t,2),o=a[0],r=a[1],s=Object(n.useState)(""),i=Object(c.a)(s,2),m=i[0],u=i[1],p=function(e){r(e.target.value)};return Object(n.useEffect)((function(){d.a.get("http://localhost:9000/api/count?id="+window.localStorage.getItem("session")+"&choice="+o).then((function(e){var t=Object.keys(e.data).map((function(t){return l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},t),l.a.createElement("td",null,e.data[t][0]),l.a.createElement("td",null,e.data[t][1]),l.a.createElement("td",null,e.data[t][2]),l.a.createElement("td",null,e.data[t][3]),l.a.createElement("td",null,e.data[t][4]),l.a.createElement("td",null,e.data[t][5]),l.a.createElement("td",null,e.data[t][6]),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-primary"},"More")))}));u(t)})).catch((function(e){return console.log(e)}))}),[o]),l.a.createElement("div",null,l.a.createElement("hr",null),l.a.createElement("div",null,l.a.createElement("h6",null,"Count Criteria?"),l.a.createElement("span",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"choice1",name:"choice",value:"taluk",onChange:p,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"choice1"},"Taluk")),l.a.createElement("span",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"choice2",name:"choice",value:"constituency",onChange:p,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"choice2"},"LAC"))),l.a.createElement("hr",null),l.a.createElement("table",{class:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"constituency"===o?" LAC ":"taluk"===o?"Taluk":""," Name"),l.a.createElement("th",{scope:"col"},"Institutions"),l.a.createElement("th",{scope:"col"},"Total Rooms"),l.a.createElement("th",{scope:"col"},"Ready Rooms"),l.a.createElement("th",{scope:"col"},"Usable Rooms"),l.a.createElement("th",{scope:"col"},"Total Beds"),l.a.createElement("th",{scope:"col"},"Ready Beds"),l.a.createElement("th",{scope:"col"},"Usable Beds"),l.a.createElement("th",{scope:"col"},"More Info"))),l.a.createElement("tbody",null,m)))};var b=function(e){return l.a.createElement("div",{id:"userAddFrom",className:""},l.a.createElement("form",{className:"col-md-7"},l.a.createElement("h2",{className:"text-center"},"Add User"),l.a.createElement("hr",null),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",id:"newUsername",onChange:e.handleChangeParent,name:"username",placeholder:"Enter username",required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"password",onChange:e.handleChangeParent,name:"password",className:"form-control",id:"newPassword",placeholder:"Password",required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"password",onChange:e.handleChangeParent,name:"confirmpassword",className:"form-control",id:"confirmPassword",placeholder:"Confirm Password",required:!0}))))};var g=function(e){return"superadmin"===e.type?l.a.createElement("div",null,l.a.createElement("h5",null,"Select User Type"),l.a.createElement("div",{className:"row mb-3 ml-2 userType"},l.a.createElement("div",{class:"custom-control custom-radio rBtn"},l.a.createElement("input",{type:"radio",id:"rBtn1",name:"type",value:"admin",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"rBtn1"},"Admin")),l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"rBtn2",name:"type",value:"dashboard",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"rBtn2"},"Dashboard")),l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"rBtn3",name:"type",value:"taluk",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"rBtn3"},"Taluk")),l.a.createElement("div",{class:"custom-control custom-radio ml-4 lastButton"},l.a.createElement("input",{type:"radio",id:"rBtn4",name:"type",value:"airport",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"rBtn4"},"Airport")))):"admin"===e.type?l.a.createElement("div",null,l.a.createElement("h5",null,"Select User Type"),l.a.createElement("div",{className:"row mb-3 ml-2"},l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"rBtn2",name:"type",value:"dashboard",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"rBtn2"},"Dashboard")),l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"rBtn3",name:"type",value:"taluk",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"rBtn3"},"Taluk")),l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"rBtn4",name:"type",value:"airport",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"rBtn4"},"Airport")))):void 0};var y=function(e){return"taluk"===e.type?l.a.createElement("div",{class:"col"},l.a.createElement("label",{for:"talukAdd"},"Taluk"),l.a.createElement("select",{class:"custom-select",name:"taluk",id:"talukAdd",size:"1",onChange:e.handleDropdownParent},l.a.createElement("option",{selected:!0},"Choose..."),l.a.createElement("option",{value:"Chavakkad"},"Chavakkad"),l.a.createElement("option",{value:"Chalakudy"},"Chalakudy"),l.a.createElement("option",{value:"Kodungallur"},"Kodungallur"),l.a.createElement("option",{value:"Kunnamkulam"},"Kunnamkulam"),l.a.createElement("option",{value:"Mukunthapuram"},"Mukunthapuram"),l.a.createElement("option",{value:"Thalapilly"},"Thalapilly"),l.a.createElement("option",{value:"Thrissur"},"Thrissur"))):l.a.createElement("div",null)};var v=function(e){var t={username:"",password:"",confirmpassword:"",type:"",taluk:""},a=Object(n.useState)(t),o=Object(c.a)(a,2),r=o[0],m=o[1],u=function(e){m(Object(i.a)({},r,Object(s.a)({},e.target.name,e.target.value)))};return l.a.createElement("div",{className:"container col-lg-8 col-sm-4 addUser"},l.a.createElement(b,{handleChangeParent:u}),l.a.createElement(g,{handleChangeParent:u,type:e.type}),l.a.createElement(y,{handleDropdownParent:function(e){m(Object(i.a)({},r,Object(s.a)({},e.target.name,e.target.options[e.target.options.selectedIndex].value)))},type:r.type}),l.a.createElement("button",{type:"submit",id:"addUser",className:"float-right btn btn-primary",onClick:function(e){var a;e.preventDefault(),document.getElementById("passwordMismatch").innerHTML="";if(""!==r.username&&""!==r.password&&""!==r.confirmpassword&&""!==r.type){if(r.password===r.confirmpassword){if("taluk"===r.type){if(""===r.taluk)return void(document.getElementById("passwordMismatch").innerHTML="Empty Fields Present");a={username:r.username,password:r.password,type:r.type,taluk:r.taluk}}else a={username:r.username,password:r.password,type:r.type};var n="http://localhost:9000/api/useradd?id="+window.localStorage.getItem("session");d.a.post(n,a,{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0}}).then((function(e){"connection closed"===e.data&&(alert(e.data),window.location.replace("/")),document.getElementById("passwordMismatch").innerHTML=e.data,"institution"===r.type&&r.taluk===window.localStorage.getItem("location")&&window.location.reload()})).catch((function(e){return console.log(e)}))}else document.getElementById("passwordMismatch").innerHTML="Password Mismatch";!function(){m(t),document.getElementById("newUsername").value="",document.getElementById("newPassword").value="",document.getElementById("confirmPassword").value="";for(var e=document.getElementsByName("type"),a=0;a<e.length;a++)e[a].checked=!1}()}else document.getElementById("passwordMismatch").innerHTML="Empty Fields Present"}},"Add User"),l.a.createElement("div",{id:"passwordMismatch"}))},f=a(19);var k=function(e){return l.a.createElement("div",{className:"inst-only"},l.a.createElement("div",null,l.a.createElement("div",{class:"form-group col"},l.a.createElement("label",{for:"instName"},"Institution Name"),l.a.createElement("input",{type:"text",name:"name",class:"form-control",id:"instName",placeholder:"Name of institution",onChange:e.handleChangeParent})),l.a.createElement("div",{className:"instType ml-3 mb-2"},l.a.createElement("h6",null,"Institution Type?"),l.a.createElement("div",{className:"inst-type mb-2"},l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"type1",name:"type",value:"hotel/lodge",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"type1"},"Hotel/Lodge")),l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"type2",name:"type",value:"hostel",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"type2"},"Hostel")),l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"type3",name:"type",value:"educational institution",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"type3"},"Educational Institution")),l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"type4",name:"type",value:"hospital building",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"type4"},"Hospital Building")),l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"type5",name:"type",value:"resort",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"type5"},"Resort")),l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"type6",name:"type",value:"other",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"type6"},"Other")))),l.a.createElement("div",{className:"fitness ml-3 mt-2"},l.a.createElement("h6",null,"Structurally Fit?"),l.a.createElement("div",{className:"inst-sfit form-row"},l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"sfit1",name:"fit",value:"yes",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"sfit1"},"Yes")),l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"sfit2",name:"fit",value:"no",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"sfit2"},"No")))),l.a.createElement("div",{className:"fitness ml-3 mt-2"},l.a.createElement("h6",null,"Payment"),l.a.createElement("div",{className:"inst-sfit form-row"},l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"payment1",name:"payment",value:"yes",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"payment1"},"Paid")),l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"payment2",name:"payment",value:"no",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"payment2"},"Unpaid")))),l.a.createElement("div",{className:"fitness ml-3 mt-2"},l.a.createElement("div",{id:"paymentDetailsForm"},l.a.createElement("textarea",{id:"paymentDetails",name:"paymentDetails",style:{borderRadius:"5px"},placeholder:"Enter Payment details (if any)",class:"form-control",onChange:e.handleChangeParent})))))};var w=function(e){return l.a.createElement("div",{class:"mb-3 col-lg-6"},l.a.createElement("label",{htmlFor:"locTaluk"},"Taluk"),l.a.createElement("select",{class:"custom-select",name:"taluk",id:"locTaluk",onChange:e.handleTalukParent},l.a.createElement("option",{selected:!0,value:"Chavakkad"},"Chavakkad"),l.a.createElement("option",{value:"Chalakudy"},"Chalakudy"),l.a.createElement("option",{value:"Kodungallur"},"Kodungallur"),l.a.createElement("option",{value:"Kunnamkulam"},"Kunnamkulam"),l.a.createElement("option",{value:"Mukunthapuram"},"Mukunthapuram"),l.a.createElement("option",{value:"Thalapilly"},"Thalapilly"),l.a.createElement("option",{value:"Thrissur"},"Thrissur")))},N={Choose:[],"":[],Chalakudy:["Alathur","Aloor","Annallur","Athirapilly","E.Chalakudy","Kadukutty","Kakkulissery","Kallettumkara","Kallurthekkumury","Kizhakkumury","Kodakara","Kodassery","Kuttichira","Mattathur","Meloor","Mupliyam","Nadipulam","Pariyaram","Thazhakkad","Thirumukkulam","Vadama","Varantharapilly","Vellikulangara","W. Chalakudy"],Chavakkad:["Edakkazhiyur","Elavally","Engandiyoor","Guruvayur","Kadappuram","Manathala","Mullassery","Nattika","Orumanayoor","Pavaraty","Pookode","Punnayoor","Punnayoorkulam","Thaikkad Part","Thalikulam","Vadakkekkad","Valappad","Vatanapally","Venkidagu"],Kodungallur:["Aazhikode","Ala","Edathurithy","Edavilangu","Eriyad","Kaippamangalam","Koolimuttam","Lokamalleswaram","Methala","P.Vemballur","Pappinivattom","Perinjanam","Poyya","Pullut"],Kunnamkulam:["Aloor","Anjur","Arthat","Chemanthatta","Choondal","Chowannur","Eranellur","Eyyal","Kadangode","Kadavallur","Kandanissery","Kanippayur Village Part","Karikkad","Kattakambal","Kunnamkulam","Nelluvai","Porkulam","Vellattanjur","Velur"],Mukunthapuram:["Amballur","Ananthapuram","Chengalur","Edathirinji","Irinjalakuda","Kaduppassery","Karalam Part","Karumathra","Kattoor","Kottanellur","Madayikonam","Manavalassery Part","Muriyad","Nellai","Nenmanikkara","Padiyoor","Parappukara","Poomangalam","Porathissery","Pullur","Puthenchira","Thekkumkara","Thoravu","Thottipal","Thrikkur","Vadakkumkara","Vallivattom","Velukara"],Thalapilly:["Arankottukara","Attoor","Chelakara","Chelakode","Cheruthuruthy","Deshamangalam","Elanad","Enkakkad","Kaniyarkode","Kondazhi","Kottappuram","Kumaranellur","Kurumala","Pambady","Panjhal","Pazhayannur","Peringadoor","Puthuruthy","Thekkumkara","Thiruvillamala","Vadakkethara","Varavoor","Venganellur","Wadakkancherry"],Thrissur:["Adat","Alappad","Anjur","Anthikkad","Aranattukara","Arattupuzha","Avanoor","Avinissery ","Ayyanthole","Chazhur","Chembukkavu","Cherpu","Chevoor","Chilliapilly","Chiyyaram Part","Choolissery","Edakalathur","Edakunni","Injamudi","Kainoor","Kaiparambu","Kanimangalam","Karamukku","Killannur","Kizhpullikara","Kolazhi","Koorkkenchery Part","Kozhukully","Kurichikara","Kurimbilavu","Kuttur","Madakkathara","Manakodi","Manaloor","Manamangalam","Marathakara","Mulayam","Nadathara","Ollukara","Ollur Part","Padiyam","Pananchery","Parakkad","Paralam","Peechi","Peramangalam","Peringavu","Pottore","Pullazhy","Pullu","Puthur","Puzhakkal","Thangalur","Thannyam","Tholur","Thrissur","Vadakkumury","Vallachira","Velappaya","Vellanikara","Venginissery","Vilvattom","Viyyur"]};var C=function(e){return Object(n.useEffect)((function(){var t=document.getElementById("villageAdd");t.options.length=1;for(var a=0;a<N[e.taluk].length;a++)t.options[t.options.length]=new Option(N[e.taluk][a],N[e.taluk][a])}),[e.taluk]),l.a.createElement("div",{class:"col mb-2"},l.a.createElement("label",{for:"villageAdd"},"Village"),l.a.createElement("select",{class:"custom-select",name:"village",id:"villageAdd",size:"1",onChange:e.handleDropdownParent},l.a.createElement("option",{value:"",defaultValue:!0},"Choose")))};var I=function(e){return l.a.createElement("div",null,l.a.createElement("div",{class:"col"},l.a.createElement("label",{for:"constituencyAdd"},"LAC"),l.a.createElement("select",{class:"custom-select",name:"constituency",id:"constituencyAdd",size:"1",onChange:e.handleDropdownParent},l.a.createElement("option",{value:"Choose",selected:!0},"Choose"),l.a.createElement("option",{value:"Chalakudy"},"Chalakudy"),l.a.createElement("option",{value:"Chelakara"},"Chelakara"),l.a.createElement("option",{value:"Guruvayur"},"Guruvayur"),l.a.createElement("option",{value:"Irinjalakuda"},"Irinjalakuda"),l.a.createElement("option",{value:"Kaippamangalam"},"Kaippamangalam"),l.a.createElement("option",{value:"Kodungallur"},"Kodungallur"),l.a.createElement("option",{value:"Kunnamkulam"},"Kunnamkulam"),l.a.createElement("option",{value:"Manalur"},"Manalur"),l.a.createElement("option",{value:"Nattika"},"Nattika"),l.a.createElement("option",{value:"Ollur"},"Ollur"),l.a.createElement("option",{value:"Pudukkad"},"Pudukkad"),l.a.createElement("option",{value:"Thrissur"},"Thrissur"),l.a.createElement("option",{value:"Wadakkanchery"},"Wadakkanchery"))))},B={Choose:[],"":[],Chelakara:["Chelakara","Deshamangalam","Kondazhi","Mullurkara","Panjhal","Pazhayannur","Thiruvillamala","Vallathole Nagar","Varavoor"],Kunnamkulam:["Chowannur","Erumapetty","Kadavallur","Kandangode","Kattakambal","Kunnamkulam","Municipality","Porkulam","Velur"],Wadakkanchery:["Adat","Avanoor","Kaiparamaba","Kolazhi","Mulamkunnathukavu","Municipality","Thekkumkara","Tholur","Wadkkanchery"],Guruvayur:["Chavakkad Municipality","Engandiyoor","Guruvayur Municipality","Kadappuram","Orumanayoor","Punnayoor","Punnayoorkulam","Vadakkekkad"],Manalur:["Arimbur","Choondal","Elavally","Guruvayur Municipality","Kandanissery","Manaloor","Mullassery","Pavaraty","Vatanapally","Venkidagu"],Ollur:["Madakkathara","Nadathara","Pananchery","Puthur","Thrissur Corporation"],Thrissur:["Thrissur Corporation"],Nattika:["Anthikkad","Avinissery","Chazhur","Cherpu","Nattika","Paralam","Thalikulam","Thannyam","Valappad"],Irinjalakuda:["Aloor","Irinjalakuda Municipality","Karalam","Kattoor","Muriyad","Padiyoor","Poomangalam","Velukara"],Pudukkad:["Alagappa Nagar","Mattathur","Nenmanikkara","Parappukara","Puthukkad","Thrikkur","Vallchira","Varantharapilly"],Kaippamangalam:["Edathurithy","Edavilangu","Eriyad","Kaippamangalam","Mathilakam","Perinjanam","SN Puram"],Chalakudy:["Athirapilly","Chalakudy Municipality","Kadukutty","Kodakara","Kodassery","Koratty","Meloor","Pariyarma"],Kodungallur:["Annammanada","Kodugallur Municipality","Kuzhoor","Mala","Poyya","Puthenchira","Vellangallur"]};var P=function(e){return Object(n.useEffect)((function(){var t=document.getElementById("panchayatAdd");t.options.length=1;for(var a=0;a<B[e.constituency].length;a++)t.options[t.options.length]=new Option(B[e.constituency][a],B[e.constituency][a])}),[e.constituency]),l.a.createElement("div",{class:"col mb-2 mt-2"},l.a.createElement("label",{for:"panchayatAdd"},"LSGD"),l.a.createElement("select",{class:"custom-select",name:"panchayat",id:"panchayatAdd",size:"1",onChange:e.handleDropdownParent},l.a.createElement("option",{value:"",defaultValue:!0},"Choose")))};var O=function(e){return Object(n.useEffect)((function(){var t=document.getElementById("villageSearch");t.options.length=0;for(var a=0;a<N[e.taluk].length;a++)t.options[a]=new Option(N[e.taluk][a],N[e.taluk][a])}),[e.taluk]),l.a.createElement("div",{class:"col-lg-6"},l.a.createElement("label",{for:"villageSearch"},"Village"),l.a.createElement("select",{class:"custom-select",name:"village",id:"villageSearch",size:"1",onChange:e.handleVillageParent},l.a.createElement("option",{value:"",defaultValue:!0},"Choose")))};var A=function(e,t,a,n,o,r,c){if(-1===c)var s=e.map((function(e,c){return l.a.createElement("div",{key:e._id,className:"accordion InstitutionsContainer mb-3",id:"accordionExample"+c},l.a.createElement("div",{class:"card"},l.a.createElement("div",{class:"card-header",id:"headingOne"+c},l.a.createElement("h2",{class:"mb-0"},l.a.createElement("button",{class:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseOne"+c,"aria-expanded":"true","aria-controls":"collapseOne"},e.name),l.a.createElement("button",{className:"btn btn-primary  mt-2 ml-2 float-right",onClick:t.bind(a,"/admin/"+e._id)},"Check Rooms"))),l.a.createElement("div",{id:"collapseOne"+c,class:"collapse","aria-labelledby":"headingOne"+c,"data-parent":"#accordionExample"+c},l.a.createElement("div",{class:"card-body"},l.a.createElement("h5",{className:"card-title"},e.name),l.a.createElement("h6",null,"Phone : ",e.phone),l.a.createElement("h6",null,"Type : ",e.type),l.a.createElement("h6",null,"Paid Room : ",e.payment),l.a.createElement("h6",null,"Details : ",e.paymentDetails),l.a.createElement("h6",{className:"card-title"},"Structurally Fit : ",e.fit),l.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},e.district),l.a.createElement("button",{type:"button",class:"btn btn-secondary mr-3 mb-2"},"Rooms ",l.a.createElement("button",{class:"btn btn-light roomBadge"},e.rooms.length)),l.a.createElement("button",{type:"button",class:"btn btn-warning mr-3 mb-2"},"Ready ",l.a.createElement("button",{class:"btn btn-light roomBadge"},n(e.rooms))),l.a.createElement("button",{type:"button",class:"btn btn-success mr-3 mb-2"},"Usable ",l.a.createElement("button",{class:"btn btn-light roomBadge"},o(e.rooms))),r(e._id),l.a.createElement("a",{href:"/admin/"+e._id+"/edit/",className:"btn btn-primary  mt-2 ml-2 float-right editbtn"},"Edit")))))}));else s=e.map((function(e){return l.a.createElement("div",{key:e._id,className:"accordion InstitutionsContainer mb-3",id:"accordionExample"+c},l.a.createElement("div",{class:"card"},l.a.createElement("div",{class:"card-header",id:"headingOne"+c},l.a.createElement("h2",{class:"mb-0"},l.a.createElement("button",{class:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseOne"+c,"aria-expanded":"true","aria-controls":"collapseOne"},e.name),l.a.createElement("button",{className:"btn btn-primary  mt-2 ml-2 float-right",onClick:t.bind(a,"/admin/"+e._id)},"Check Rooms"))),l.a.createElement("div",{id:"collapseOne"+c,class:"collapse","aria-labelledby":"headingOne"+c,"data-parent":"#accordionExample"+c},l.a.createElement("div",{class:"card-body"},l.a.createElement("h5",{className:"card-title"},e.name),l.a.createElement("h6",{className:"card-title"},"Phone : ",e.phone),l.a.createElement("h6",null,"Type : ",e.type),l.a.createElement("h6",null,"Paid Room : ",e.payment),l.a.createElement("h6",null,"Details : ",e.paymentDetails),l.a.createElement("h6",{className:"card-title"},"Structurally Fit : ",e.fit),l.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},e.district),l.a.createElement("button",{type:"button",class:"btn btn-secondary mr-3 mb-2"},"Total Rooms ",l.a.createElement("button",{class:"btn btn-light roomBadge"},e.rooms.length)),l.a.createElement("button",{type:"button",class:"btn btn-warning mr-3 mb-2"},"Ready ",l.a.createElement("button",{class:"btn btn-light roomBadge"},n(e.rooms))),l.a.createElement("button",{type:"button",class:"btn btn-success mr-3 mb-2"},"Usable ",l.a.createElement("button",{class:"btn btn-light roomBadge"},o(e.rooms))),l.a.createElement("div",null,l.a.createElement("a",{className:"editbtn",href:"/admin/"+e._id+"/edit/"},l.a.createElement("button",{className:"btn btn-primary  mt-2 ml-2 float-right "},"Edit")),r(e._id))))))}));return s};var T=function(e){if("taluk"===e.type)var t=e.taluk;else t="Chavakkad";var a={type:"",taluk:"",village:"",constituency:"",panchayat:"",priority:0,fit:"",payment:"",paymentDetails:"",phone:""},o=Object(n.useState)(""),r=Object(c.a)(o,2),m=r[0],u=r[1],p=Object(n.useState)(t),E=Object(c.a)(p,2),h=E[0],b=E[1],g=Object(n.useState)(N[e.taluk][0]),y=Object(c.a)(g,2),v=y[0],B=y[1],T=Object(n.useState)(a),j=Object(c.a)(T,2),S=j[0],M=j[1],x=function(e){for(var t=0,a=0;a<e.length;a++)"no"===e[a].status&&"yes"===e[a].ready&&t++;return t},K=function(e){for(var t=0,a=0;a<e.length;a++)"yes"===e[a].ready&&t++;return t},R=function(e){console.log(e.target.name,e.target.value),M(Object(i.a)({},S,Object(s.a)({},e.target.name,e.target.value)))},D=function(e){M(Object(i.a)({},S,Object(s.a)({},e.target.name,e.target.options[e.target.options.selectedIndex].value)))},L=function(e){b(e.target.options[e.target.options.selectedIndex].value),B(N[e.target.options[e.target.options.selectedIndex].value][0])},V=function(e){B(e.target.options[e.target.options.selectedIndex].value)},H=function(e){window.location.assign(e)},F=function(t){return"institution"!==e.type?l.a.createElement("button",{className:"btn btn-danger DeleteInstitution mt-2 ml-2 float-right",onClick:U.bind(t,t)},"Delete"):l.a.createElement("div",null)},z=function(){var t="http://localhost:9000/api/institution?taluk="+h+"&village="+v+"&id="+window.localStorage.getItem("session")+"&institutionId="+e.institutionId;d.a.get(t).then((function(e){"connection closed"===e.data&&(alert(e.data),window.location.replace("/"));var a=A(e.data,H,t,K,x,F,-1);u(a)})).catch((function(e){return console.log(e)}))},U=function(e){if(window.confirm("Are you sure?")){var t="http://localhost:9000/api/institution/delete/"+e+"?id="+window.localStorage.getItem("session");d.a.get(t).catch((function(e){return console.log(e)}))}window.localStorage.setItem("taluk",h),z()},G=function(t){if(t.preventDefault(),document.getElementById("institutionAddMssg").innerHTML="",""!==S.name&&""!==S.type&&""!==S.taluk&&""!==S.village&&""!==S.constituency&&""!==S.panchayat&&""!==S.fit){var n=Object(i.a)({},S,{rooms:[]});console.log(n);var l="http://localhost:9000/api/institution/add?id="+window.localStorage.getItem("session");d.a.post(l,n,{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0}}).then((function(e){if("string"===typeof e.data)"connection closed"===e.data?(alert(e.data),window.location.replace("/")):document.getElementById("institutionAddMssg").innerHTML=e.data;else if(document.getElementById("institutionAddMssg").innerHTML=e.data.mssg,S.taluk===h&&S.village===v){var t=document.querySelectorAll(".InstitutionsContainer").length,a=A(e.data.data,H,l,K,x,F,t);u([a].concat(Object(f.a)(m)))}})).catch((function(e){return console.log(e)}))}else document.getElementById("institutionAddMssg").innerHTML="Empty Fields Present";"taluk"===e.type?M(Object(i.a)({},a,{taluk:h})):M(a),document.getElementById("instName").value="",document.getElementById("instPhone").value="",document.getElementById("paymentDetails").value="";for(var o=document.getElementsByName("type"),r=0;r<o.length;r++)o[r].checked=!1;o=document.getElementsByName("fit");for(r=0;r<o.length;r++)o[r].checked=!1;o=document.getElementsByName("payment");for(r=0;r<o.length;r++)o[r].checked=!1;null!==document.getElementById("talukAdd")&&(document.getElementById("talukAdd").options.selectedIndex=0),document.getElementById("villageAdd").options.selectedIndex=0,document.getElementById("constituencyAdd").options.selectedIndex=0,document.getElementById("panchayatAdd").options.selectedIndex=0};return Object(n.useEffect)((function(){b(h),B(N[h][0]),"taluk"===e.type&&M(Object(i.a)({},S,{taluk:h})),z(),window.localStorage.setItem("currTab","Institutions")}),[]),Object(n.useEffect)((function(){z()}),[h,v]),l.a.createElement("div",{id:"InstitutionTab p-2",className:"search"},"taluk"===e.type?l.a.createElement("h6",{id:"talukHeader"},h," user "):l.a.createElement("h6",{id:"talukHeader"},e.type," user "),function(){if("institution"!==e.type)return l.a.createElement("div",{id:"institutionForm",className:"inst container mr-4"},l.a.createElement("div",{class:"accordion",id:"accordionExample"},l.a.createElement("div",{class:"card p-0 m-0"},l.a.createElement("div",{class:"card-header text-center p-2",id:"headingOne"},l.a.createElement("button",{class:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"},l.a.createElement("h5",null,"Add Institution"))),l.a.createElement("div",{id:"collapseOne",class:"collapse","aria-labelledby":"headingOne","data-parent":"#accordionExample"},l.a.createElement("div",{class:"card-body"},l.a.createElement("div",{className:"inst-details"},l.a.createElement(k,{type:e.type,handleDropdownParent:D,handleChangeParent:R}),l.a.createElement("div",{className:"lsgd"},l.a.createElement("div",{class:"form-group col"},l.a.createElement("label",{for:"phone"},"Phone"),l.a.createElement("input",{type:"text",name:"phone",class:"form-control",id:"instPhone",placeholder:"Contact no of institution",onChange:R})),"taluk"!==e.type?l.a.createElement("div",{class:"col mt-2"},l.a.createElement("label",{for:"talukAdd"},"Taluk"),l.a.createElement("select",{class:"custom-select",name:"taluk",id:"talukAdd",size:"1",onChange:D},l.a.createElement("option",{selected:!0,value:"Choose"},"Choose"),l.a.createElement("option",{value:"Chavakkad"},"Chavakkad"),l.a.createElement("option",{value:"Chalakudy"},"Chalakudy"),l.a.createElement("option",{value:"Kodungallur"},"Kodungallur"),l.a.createElement("option",{value:"Kunnamkulam"},"Kunnamkulam"),l.a.createElement("option",{value:"Mukunthapuram"},"Mukundapuram"),l.a.createElement("option",{value:"Thalapilly"},"Thalapilly"),l.a.createElement("option",{value:"Thrissur"},"Thrissur"))):l.a.createElement("div",null),"taluk"===e.type?l.a.createElement(C,{taluk:h,handleDropdownParent:D}):l.a.createElement(C,{taluk:S.taluk,handleDropdownParent:D}),l.a.createElement(I,{handleDropdownParent:D}),l.a.createElement(P,{constituency:S.constituency,handleDropdownParent:D}),l.a.createElement("div",{class:"sbmt-btn"},l.a.createElement("button",{className:"btn",onClick:G},"Submit")),l.a.createElement("div",{id:"institutionAddMssg"}))))))))}(),l.a.createElement("hr",null),l.a.createElement("h4",{className:"text-center mb-4"},"Search"),"taluk"===e.type?l.a.createElement("div",null,l.a.createElement(O,{handleVillageParent:V,taluk:h})):"institution"!==e.type?l.a.createElement("div",{className:"row mt-3 mb-4"},l.a.createElement(w,{handleTalukParent:L}),l.a.createElement(O,{handleVillageParent:V,taluk:h})):l.a.createElement("div",null),l.a.createElement("hr",null),m)};var j=function(e){return l.a.createElement("div",{className:"col"},l.a.createElement("div",{class:"accordion"},l.a.createElement("div",{class:"card mb-4"},l.a.createElement("button",{className:"btn btn-primary btn-block mr-2",onClick:e.institutionsRedirectParent},"Prev page ",l.a.createElement("i",{className:"fa fa-arrow-left "})),l.a.createElement("div",{class:"card-header p-1",id:"headingRooms"},l.a.createElement("h2",{class:"mb-0"},l.a.createElement("div",{className:"text-center"},l.a.createElement("button",{class:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseRooms","aria-expanded":"true","aria-controls":"collapseRooms"},l.a.createElement("h5",null,"Add Room info"))))),l.a.createElement("div",{id:"collapseRooms",class:"collapse","aria-labelledby":"headingRooms","data-parent":"#accordionRooms"},l.a.createElement("div",{class:"card-body"},l.a.createElement("form",{className:"p-2 col"},l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col"},l.a.createElement("label",null,"Room No/Name"),l.a.createElement("input",{type:"text",id:"roomNo",name:"no",className:"form-control",placeholder:"Room No",onChange:e.handleChangeParent})),l.a.createElement("div",{className:"form-group col"},l.a.createElement("label",null,"No of beds"),l.a.createElement("input",{type:"number",id:"roomBeds",name:"beds",className:"form-control",placeholder:"No of beds",onChange:e.handleChangeParent}))),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col"},l.a.createElement("label",null,"Attached Bathroom ?"),l.a.createElement("div",{className:"row mb-3 ml-2"},l.a.createElement("div",{class:"custom-control custom-radio"},l.a.createElement("input",{type:"radio",id:"attchBath1",name:"bathroom",value:"yes",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"attchBath1"},"Yes")),l.a.createElement("div",{class:"custom-control custom-radio ml-2"},l.a.createElement("input",{type:"radio",id:"attchBath2",name:"bathroom",value:"no",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"attchBath2"},"No")))),l.a.createElement("div",{className:"form-group col"},l.a.createElement("label",null,"Disable Friendly?"),l.a.createElement("div",{className:"row mb-3 ml-3"},l.a.createElement("div",{class:"custom-control custom-radio"},l.a.createElement("input",{type:"radio",id:"disable1",name:"disable",value:"yes",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"disable1"},"Yes")),l.a.createElement("div",{class:"custom-control custom-radio ml-2"},l.a.createElement("input",{type:"radio",id:"disable2",name:"disable",value:"no",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"disable2"},"No"))))),l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("label",{className:"input-group-text",htmlFor:"inputGroupSelect01"},"Status")),l.a.createElement("select",{className:"custom-select",id:"roomStatus",name:"status",onChange:e.handleDropdownParent},l.a.createElement("option",{defaultValue:!0},"Choose..."),l.a.createElement("option",{value:"no"},"Decontaminated"),l.a.createElement("option",{value:"yes"},"Contaminated"))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Ready to Occupy"),l.a.createElement("div",{className:"row mb-3 ml-2"},l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"ready1",name:"ready",value:"yes",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"ready1"},"Yes")),l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"ready2",name:"ready",value:"no",onChange:e.handleChangeParent,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"ready2"},"No")))),l.a.createElement("div",{className:"form-group col"},l.a.createElement("label",null,"Remark"),l.a.createElement("input",{type:"text",id:"remark",name:"remark",className:"form-control",placeholder:"remark",onChange:e.handleChangeParent})),l.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:e.handleSubmitParent},"Add room")))))))};var S=function(e){var t=Object(n.useState)({no:"",beds:0,status:"",ready:"",bathroom:"",disable:"",remark:""}),a=Object(c.a)(t,2),o=a[0],r=a[1],m=Object(n.useState)([]),u=Object(c.a)(m,2),p=u[0],E=u[1],h=window.location.pathname.split("/")[2],b=function(e){if(window.confirm("Are you sure?")){var t="http://localhost:9000/api/rooms/"+e+"/delete?id="+window.localStorage.getItem("session")+"&institutionId="+h;d.a.get(t).then((function(e){"connection closed"===e.data&&(alert("connection closed"),window.location.replace("/")),"Room Successfully Deleted"===e.data.mssg&&y()})).catch((function(e){return console.log(e)}))}},g=function(e,t){return"yes"===e&&"no"===t?l.a.createElement("button",{className:"btn btn-success col-3"},"Usable"):l.a.createElement("button",{className:"btn btn-danger col-3"},"Not-Usable")},y=function(){var e="http://localhost:9000/api/rooms?id="+window.localStorage.getItem("session")+"&institutionId="+h;d.a.get(e).then((function(e){"connection closed"===e.data&&(alert("connection closed"),window.location.replace("/")),document.getElementById("roomHeading").innerHTML=e.data.name;var t=e.data.rooms.map((function(e,t){return l.a.createElement("div",{class:"accordion RoomsContainer",id:"accordion"+t},l.a.createElement("div",{class:"card"},l.a.createElement("div",{class:"card-header row",id:"heading"+t},l.a.createElement("button",{class:"btn btn-link col",type:"button","data-toggle":"collapse","data-target":"#collapse"+t,"aria-expanded":"true","aria-controls":"collapseOne1"},"Room No :",e.no),g(e.ready,e.status)),l.a.createElement("div",{id:"collapse"+t,class:"collapse","aria-labelledby":"heading"+t,"data-parent":"#accordion"+t},l.a.createElement("div",{class:"card-body"},l.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"No of Beds: ",e.beds),l.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Attached Bathroom: ",e.bathroom),l.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Disable Friendly: ",e.disable),l.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Contaminated: ",e.status),l.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Ready: ",e.ready),l.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Remark: ",e.remark),l.a.createElement("button",{className:"btn btn-primary  mt-2 float-left"},"Info"),l.a.createElement("button",{className:"btn btn-danger DeleteInstitution mt-2 ml-2 float-right",onClick:b.bind(void 0,e.no)},"Delete"),l.a.createElement("a",{href:window.location.pathname+"/"+e.no+"/edit/"},l.a.createElement("button",{className:"btn btn-primary mt-2 float-right edit-btn"},"Edit"))))))}));E(t)})).catch((function(e){return console.log(e)}))};return Object(n.useEffect)((function(){window.localStorage.setItem("currTab","Institutions"),y()}),[]),l.a.createElement("div",null,l.a.createElement("div",{className:"text-center"},l.a.createElement("h3",{id:"roomHeading"})),l.a.createElement("div",{className:"row mt-4"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement(j,{institutionsRedirectParent:function(){window.localStorage.setItem("currTab","Institutions"),window.location.assign("/admin")},handleChangeParent:function(e){r(Object(i.a)({},o,Object(s.a)({},e.target.name,e.target.value)))},handleDropdownParent:function(e){r(Object(i.a)({},o,Object(s.a)({},e.target.name,e.target.options[e.target.options.selectedIndex].value)))},handleSubmitParent:function(e){e.preventDefault(),document.getElementById("RoomAddMssg").innerHTML="";if(""!==o.no&&""!==o.status&&o.beds>-1&&""!==o.ready&&""!==o.bathroom&&""!==o.disable){var t={no:o.no,status:o.status,emigrantId:"",beds:o.beds,ready:o.ready,bathroom:o.bathroom,disable:o.disable,remark:o.remark},a="http://localhost:9000/api/rooms/add?id="+window.localStorage.getItem("session")+"&institutionId="+h;d.a.post(a,t,{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0}}).then((function(e){if("string"===typeof e.data)"connection closed"===e.data?(alert(e.data),window.location.replace("/")):document.getElementById("RoomAddMssg").innerHTML=e.data;else{document.getElementById("RoomAddMssg").innerHTML=e.data.mssg;var t=document.querySelectorAll(".RoomsContainer").length,a=e.data.room.map((function(e,a){return l.a.createElement("div",{class:"accordion RoomsContainer",id:"accordion"+t},l.a.createElement("div",{class:"card"},l.a.createElement("div",{class:"card-header row",id:"heading"+t},l.a.createElement("button",{class:"btn btn-link col",type:"button","data-toggle":"collapse","data-target":"#collapse"+t,"aria-expanded":"true","aria-controls":"collapseOne1"},"Room No :",e.no),g(e.ready,e.status)),l.a.createElement("div",{id:"collapse"+t,class:"collapse","aria-labelledby":"heading"+t,"data-parent":"#accordion"+t},l.a.createElement("div",{class:"card-body"},l.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"No of Beds: ",e.beds),l.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Attached Bathroom: ",e.bathroom),l.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Disable Friendly: ",e.disable),l.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Contaminated: ",e.status),l.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Ready: ",e.ready),l.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Remark: ",e.remark),l.a.createElement("button",{className:"btn btn-primary  mt-2 ml-2 float-left"},"Info"),l.a.createElement("button",{className:"btn btn-danger DeleteInstitution mt-2 float-right",onClick:b.bind(void 0,e.no)},"Delete"),l.a.createElement("a",{href:window.location.pathname+"/"+e.no+"/edit/"},l.a.createElement("button",{className:"btn btn-primary mt-2 float-right editbtn"},"Edit"))))))}));console.log(a),console.log(p),E([a].concat(Object(f.a)(p)))}})).catch((function(e){return console.log(e)}))}else document.getElementById("RoomAddMssg").innerHTML="Empty Fields Present";r({no:0,beds:0,status:"",ready:"",bathroom:"",disable:""}),document.getElementById("roomNo").value="",document.getElementById("roomBeds").value="",document.getElementById("remark").value="",document.getElementById("roomStatus").options.selectedIndex=0;for(var n=document.getElementsByName("bathroom"),c=0;c<n.length;c++)n[c].checked=!1;for(n=document.getElementsByName("disable"),c=0;c<n.length;c++)n[c].checked=!1;for(n=document.getElementsByName("ready"),c=0;c<n.length;c++)n[c].checked=!1}}),l.a.createElement("div",{id:"RoomAddMssg"})),l.a.createElement("div",{className:"col-lg-6"},p)))},M=a(10),x=a(11),K=a(13),R=a(12),D=a(14),L=function(e){function t(e){var a;Object(M.a)(this,t),(a=Object(K.a)(this,Object(R.a)(t).call(this,e))).componentDidMount=function(){var e="http://localhost:9000/api/"+a.name+"/"+a.district+"/"+a.no+"/"+a.floor+"/patient/";d.a.get(e).then((function(e){"Room Found"!==e.data.mssg?window.location.replace("/admin/"+a.name+"/"+a.district+"/"):a.setState({room:e.data.room},(function(){}))})).catch((function(e){return console.log(e)}))};var n=window.location.pathname;return a.name=n.split("/")[2],a.district=n.split("/")[3],a.no=n.split("/")[4],a.floor=n.split("/")[5],a.state={room:{}},a}return Object(D.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e,t;"sick"==this.state.room.curr?(e="btn btn-danger",t="fa fa-thumbs-down"):(e="btn btn-success",t="fa fa-thumbs-up");return l.a.createElement("div",{class:"card"},l.a.createElement("div",{class:"card-header",id:this.state.room.name,style:{width:"330px"}},l.a.createElement("h5",{class:"mb-0"},l.a.createElement("button",{class:"btn btn-link","data-toggle":"collapse","data-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"},this.state.room.name))),l.a.createElement("div",{id:"collapseOne",class:"show","aria-labelledby":this.state.room.name,"data-parent":"#accordion"},l.a.createElement("div",{class:"card-body"},l.a.createElement("h5",{id:"inmateName"},this.state.room.name),l.a.createElement("p",{id:"inmateAge"},this.state.room.age),l.a.createElement("span",{className:"inmatePhn"},l.a.createElement("p",{id:"inmatePhone",className:"mr-3 mb-3"},l.a.createElement("i",{className:"fa fa-mobile fa-2x"})," ",this.state.room.phn)),l.a.createElement("p",{id:"inmateAddr"},this.state.room.address),l.a.createElement("button",{type:"button",class:"btn btn-warning mb-2"},"Date of check-in ",l.a.createElement("span",{class:"badge badge-light"},"Mar 30,2020")),l.a.createElement("br",null),l.a.createElement("button",{type:"button",class:"btn btn-success mb-2"},"Discharge date ",l.a.createElement("span",{class:"badge badge-light"},"Apr 10,2020")),l.a.createElement("br",null),l.a.createElement("button",{type:"button",className:e},"Health status ",l.a.createElement("span",{class:"badge badge-light"},this.state.room.curr," ",l.a.createElement("i",{className:t}))),l.a.createElement("br",null))))}}]),t}(n.Component),V=function(e){function t(e){var a;return Object(M.a)(this,t),(a=Object(K.a)(this,Object(R.a)(t).call(this,e))).handleSubmit=function(){if(window.confirm("Are you Sure?")){var e="http://localhost:9000"+window.location.pathname,t={name:"",age:"",phn:"",address:"",curr:"",prev:"",status:"yes"};d.a.post(e,t,{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0}}).catch((function(e){return console.log(e)})),a.props.parentRender(t)}},a}return Object(D.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h2",null,"Inmates"),l.a.createElement("div",{id:"accordion"},l.a.createElement(L,null)),l.a.createElement("div",null,l.a.createElement("button",{className:"btn btn-primary",onClick:this.handleSubmit},"Discharge")))}}]),t}(n.Component),H=a(18),F=function(e){function t(e){var a;Object(M.a)(this,t),(a=Object(K.a)(this,Object(R.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(s.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){if(e.preventDefault(),""!==a.state.name&&""!==a.state.age&&""!==a.state.phn&&""!==a.state.address&&""!==a.state.curr){var t="http://localhost:9000/api/"+a.name+"/"+a.district+"/"+a.no+"/"+a.floor+"/",n={name:a.state.name,age:a.state.age,phn:a.state.phn,address:a.state.address,curr:a.state.curr,prev:a.state.prev,status:"yes"},l=Object(H.a)(a);d.a.post(t,n,{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0}}).then((function(e){console.log(e.data),l.props.parentRender(n)})).catch((function(e){console.log(e)}))}else document.getElementById("InmateAddMssg").innerHTML="Empty Fields";document.getElementById("InmateName").value="",document.getElementById("InmateAge").value="",document.getElementById("InmatePhone").value="",document.getElementById("InmateAddr").value="",document.getElementById("InmateHistory").value="",document.getElementById("sickbtn").style.opacity="100%",document.getElementById("finebtn").style.opacity="100%"},a.currentHealth=function(e){a.setState({curr:e});var t=e+"btn";document.getElementById(t).style.opacity="100%","fine"===e?document.getElementById("sickbtn").style.opacity="30%":document.getElementById("finebtn").style.opacity="30%"};var n=window.location.pathname;return a.name=n.split("/")[2],a.district=n.split("/")[3],a.no=n.split("/")[4],a.floor=n.split("/")[5],a.state={name:"",age:"",phn:"",address:"",curr:"",prev:""},a}return Object(D.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"input-group"},l.a.createElement("form",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{for:"inmateName"},"Name"),l.a.createElement("input",{type:"text",name:"name",className:"form-control",id:"InmateName",onChange:this.handleChange,placeholder:"Enter name"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{for:"exampleInputPassword1"},"Age"),l.a.createElement("input",{type:"text",min:"1",name:"age",className:"form-control",id:"InmateAge",onChange:this.handleChange,placeholder:"Age"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{for:"inmatePhone"},"Contact No"),l.a.createElement("input",{type:"text",name:"phn",className:"form-control",id:"InmatePhone",onChange:this.handleChange,placeholder:"Phone number"})),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",{for:"inmateAddr"},"Address"),l.a.createElement("textarea",{class:"form-control",id:"InmateAddr",rows:"3",name:"address",onChange:this.handleChange})),l.a.createElement("h4",null,"Current health status"),l.a.createElement("div",{className:"form-group mb-3",id:"stat"},l.a.createElement("buton",{id:"sickbtn",className:"btn btn-danger mr-3 mb-2",onClick:this.currentHealth.bind(this,"sick")},l.a.createElement("span",{className:"mt-2"},"sick ",l.a.createElement("i",{className:"fa fa-meh-o fa-1x"}))),l.a.createElement("buton",{id:"finebtn",className:"btn btn-success",onClick:this.currentHealth.bind(this,"fine")},l.a.createElement("span",null,"fine ",l.a.createElement("i",{className:"fa fa-smile-o fa-1x"})))),l.a.createElement("hr",null),l.a.createElement("div",{className:"form-group"},l.a.createElement("h4",null,"Previous medical history"),l.a.createElement("textarea",{class:"form-control",id:"InmateHistory",name:"prev",rows:"3",onChange:this.handleChange})),l.a.createElement("hr",null),l.a.createElement("button",{type:"submit",onClick:this.handleSubmit,className:"btn btn-primary btn-lg mt-3"},"Add inmate"),l.a.createElement("div",{id:"InmateAddMssg"})))}}]),t}(n.Component),z=0,U=function(e){function t(e){var a;Object(M.a)(this,t),(a=Object(K.a)(this,Object(R.a)(t).call(this,e))).RoomsRedirect=function(){var e="/admin/"+a.name+"/"+a.district+"/";window.location.assign(e)},a.componentDidMount=function(){z=1;var e="http://localhost:9000/api/"+a.name+"/"+a.district+"/"+a.no+"/"+a.floor+"/patient/";d.a.get(e).then((function(e){"Room Found"!==e.data.mssg?window.location.replace("/admin/"+a.name+"/"+a.district+"/"):a.setState({room:e.data.room})})).catch((function(e){return console.log(e)}))},a.decontaminate=function(){if(window.confirm("Are you sure?")){var e=a.state.room;e.status="no";var t="http://localhost:9000/api/"+a.name+"/"+a.district+"/"+a.no+"/"+a.floor;d.a.post(t,e,{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0}}).catch((function(e){return console.log(e)})),a.setState({status:"no"})}},a.parentRender=function(e){a.setState({room:e})};var n=window.location.pathname;return a.name=n.split("/")[2],a.district=n.split("/")[3],a.no=n.split("/")[4],a.floor=n.split("/")[5],a.state={room:{}},a}return Object(D.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e;return""===this.state.room.name&&1===z?"yes"===this.state.room.status?(document.getElementById("RoomStatusBtn").classList.remove("btn-success"),document.getElementById("RoomStatusBtn").classList.add("btn-danger"),e=l.a.createElement("p",null,"DeContaminate the room !! ",l.a.createElement("button",{onClick:this.decontaminate,class:"btn btn-danger"},"Decontaminated!!"))):(document.getElementById("RoomStatusBtn").classList.add("btn-success"),document.getElementById("RoomStatusBtn").classList.remove("btn-danger"),e=l.a.createElement(F,{parentRender:this.parentRender})):1===z&&(e=l.a.createElement(V,{parentRender:this.parentRender}),document.getElementById("RoomStatusBtn").classList.remove("btn-success"),document.getElementById("RoomStatusBtn").classList.add("btn-danger")),l.a.createElement("div",{className:"container "},l.a.createElement("div",null,l.a.createElement("button",{onClick:this.RoomsRedirect,class:"btn btn-primary"},"Back")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col roomInfo container"},l.a.createElement("button",{type:"button",class:"btn mb-2"},"Room no : ",l.a.createElement("span",{class:"badge badge-light"},this.no)),l.a.createElement("br",null),l.a.createElement("button",{type:"button",class:"btn mb-2"},"Floor no :   ",l.a.createElement("span",{class:"badge badge-light"},this.floor)),l.a.createElement("div",null,l.a.createElement("button",{type:"button",className:"btn mb-2",id:"RoomStatusBtn"},"Contaminated  : ",l.a.createElement("span",{class:"badge badge-light"},this.state.room.status)))),e))}}]),t}(n.Component);var G=function(e){var t=function(){return"Institutions"===e.currInstitutionsTab?l.a.createElement(T,{type:e.type,institutionId:e.institutionId,taluk:e.taluk}):"Rooms"===e.currInstitutionsTab?l.a.createElement(S,null):"Inmate"===e.currInstitutionsTab?l.a.createElement(U,null):void 0};return"superadmin"===e.type||"admin"===e.type?l.a.createElement("div",{className:"row-12"},l.a.createElement("div",{className:"tab-content ml-4",id:"v-pills-tabContent"},l.a.createElement("div",{className:"tab-pane fade",id:"v-pills-home",role:"tabpanel","aria-labelledby":"v-pills-home-tab"},l.a.createElement(h,null)),l.a.createElement("div",{className:"tab-pane fade p-2",id:"v-pills-institution",role:"tabpanel","aria-labelledby":"v-pills-institution-tab"},l.a.createElement("h2",null,e.currTab)," ",t()),l.a.createElement("div",{class:"tab-pane fade",id:"v-pills-user",role:"tabpanel","aria-labelledby":"v-pills-user-tab"},l.a.createElement(v,{type:e.type})))):"dashboard"===e.type?l.a.createElement("div",{className:"row-12"},l.a.createElement("div",{className:"tab-content ml-4",id:"v-pills-tabContent"},l.a.createElement("div",{className:"tab-pane fade",id:"v-pills-home",role:"tabpanel","aria-labelledby":"v-pills-home-tab"},l.a.createElement(h,null)))):"taluk"===e.type?l.a.createElement("div",{className:"row-12"},l.a.createElement("div",{className:"tab-content ml-4",id:"v-pills-tabContent"},l.a.createElement("div",{className:"tab-pane fade p-2",id:"v-pills-institution",role:"tabpanel","aria-labelledby":"v-pills-institution-tab"},l.a.createElement("h2",null,e.currTab)," ",t()))):"airport"===e.type?l.a.createElement("div",{className:"row-12"},l.a.createElement("div",{className:"tab-content ml-4",id:"v-pills-tabContent"})):"institution"===e.type?l.a.createElement("div",{className:"row-12"},l.a.createElement("div",{className:"tab-content ml-4",id:"v-pills-tabContent"},l.a.createElement("div",{className:"tab-pane fade p-2",id:"v-pills-institution",role:"tabpanel","aria-labelledby":"v-pills-institution-tab"},l.a.createElement("h2",null,e.currTab)," ",t()))):void 0};var W=function(e){return Object(n.useEffect)((function(){"superadmin"===e.type||"admin"===e.type?("Institutions"===window.localStorage.getItem("currTab")&&(document.getElementById("v-pills-home-tab").classList.remove("active"),document.getElementById("v-pills-home").classList.remove("active"),document.getElementById("v-pills-home").classList.remove("show"),document.getElementById("v-pills-institution-tab").classList.add("active"),document.getElementById("v-pills-institution").classList.add("active"),document.getElementById("v-pills-institution").classList.add("show")),"Home"===window.localStorage.getItem("currTab")&&(document.getElementById("v-pills-institution-tab").classList.remove("active"),document.getElementById("v-pills-institution").classList.remove("active"),document.getElementById("v-pills-institution").classList.remove("show"),document.getElementById("v-pills-home-tab").classList.add("active"),document.getElementById("v-pills-home").classList.add("active"),document.getElementById("v-pills-home").classList.add("show"))):"taluk"!==e.type&&"institution"!==e.type||(document.getElementById("v-pills-institution-tab").classList.add("active"),document.getElementById("v-pills-institution").classList.add("active"),document.getElementById("v-pills-institution").classList.add("show"))})),l.a.createElement("div",{className:"row p-3"},l.a.createElement("div",{class:"col"},l.a.createElement(E,{currInstitutionsTab:e.currInstitutionsTab,type:e.type,logoutParent:function(){d.a.get("http://localhost:9000/api/delsession?id="+window.localStorage.getItem("session")).catch((function(e){return console.log(e)})),window.localStorage.removeItem("currTab"),window.localStorage.removeItem("taluk"),window.localStorage.removeItem("village"),window.localStorage.removeItem("session"),window.location.replace("/")},taluk:e.taluk}),l.a.createElement(G,{currInstitutionsTab:e.currInstitutionsTab,type:e.type,institutionId:e.institutionId,taluk:e.taluk})))},Y=a(15);var _=function(e){var t=Object(n.useState)({type:"",taluk:"",village:"",constituency:"",panchayat:"",priority:0,fit:"",payment:"",paymentDetails:"",phone:""}),a=Object(c.a)(t,2),o=a[0],r=a[1],m=window.location.pathname.split("/")[2],u=function(e){r(Object(i.a)({},o,Object(s.a)({},e.target.name,e.target.value))),console.log(e.target.name,e.target.value)};return Object(n.useEffect)((function(){var e="http://localhost:9000/api/institution/view?id="+window.localStorage.getItem("session")+"&institutionId="+m;d.a.get(e).then((function(e){"string"===typeof e.data&&("connection closed"===e.data?(alert("connection closed"),window.location.replace("/")):console.log(e.data)),console.log(e.data),document.getElementById("instNameEdit").value=e.data.name,document.getElementById("instPhoneEdit").value=e.data.phone,document.getElementById("paymentDetailsEdit").value=e.data.paymentDetails,"hotel/lodge"===e.data.type?document.getElementById("type1Edit").checked=!0:"hostel"===e.data.type?document.getElementById("type2Edit").checked=!0:"educational institution"===e.data.type?document.getElementById("type3Edit").checked=!0:"hospital building"===e.data.type?document.getElementById("type4Edit").checked=!0:"resort"===e.data.type?document.getElementById("type5Edit").checked=!0:"other"===e.data.type&&(document.getElementById("type6Edit").checked=!0),"yes"===e.data.fit?document.getElementById("sfit1Edit").checked=!0:"no"===e.data.fit&&(document.getElementById("sfit2Edit").checked=!0),"yes"===e.data.payment?document.getElementById("payment1Edit").checked=!0:"no"===e.data.payment&&(document.getElementById("payment2Edit").checked=!0)})).catch((function(e){return console.log(e)}))}),[]),l.a.createElement("div",{className:"inst-only container"},l.a.createElement("a",{href:"/admin"},l.a.createElement("button",{className:"btn btn-primary btn-block mt-3 mb-4"},"Back")),l.a.createElement("div",{className:"col-lg-8 col-md-8 container"},l.a.createElement("div",{class:"form-group col"},l.a.createElement("label",{for:"instNameEdit"},"Institution Name"),l.a.createElement("input",{type:"text",name:"name",class:"form-control",id:"instNameEdit",placeholder:"Name of institution",onChange:u})),l.a.createElement("div",{className:"instType ml-3 mb-2"},l.a.createElement("div",{class:"form-group col"},l.a.createElement("label",{for:"instPhoneEdit"},"Phone"),l.a.createElement("input",{type:"text",name:"phone",class:"form-control",id:"instPhoneEdit",placeholder:"Contact no of institution",onChange:u})),l.a.createElement("div",{className:"inst-type mb-2"},l.a.createElement("h6",null,"Institution Type?"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3 col-4"},l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"type5Edit",name:"type",value:"resort",onChange:u,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"type5Edit"},"Resort")),l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"type2Edit",name:"type",value:"hostel",onChange:u,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"type2Edit"},"Hostel")))),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"type1Edit",name:"type",value:"hotel/lodge",onChange:u,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"type1Edit"},"Hotel/Lodge")),l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"type4Edit",name:"type",value:"hospital building",onChange:u,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"type4Edit"},"Hospital Building")))),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"type3Edit",name:"type",value:"educational institution",onChange:u,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"type3Edit"},"Educational Institution")),l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"type6Edit",name:"type",value:"other",onChange:u,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"type6Edit"},"Other"))))))),l.a.createElement("hr",null),l.a.createElement("div",{className:"fitness ml-3 mt-2"},l.a.createElement("h6",null,"Structurally Fit?"),l.a.createElement("div",{className:"inst-sfit form-row"},l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"sfit1Edit",name:"fit",value:"yes",onChange:u,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"sfit1Edit"},"Yes")),l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"sfit2Edit",name:"fit",value:"no",onChange:u,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"sfit2Edit"},"No"))))," ",l.a.createElement("hr",null),l.a.createElement("div",{className:"fitness ml-3 mt-2"},l.a.createElement("h6",null,"Payment"),l.a.createElement("div",{className:"inst-sfit form-row"},l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"payment1Edit",name:"payment",value:"yes",onChange:u,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"payment1Edit"},"Paid")),l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"payment2Edit",name:"payment",value:"no",onChange:u,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"payment2Edit"},"Unpaid")))),l.a.createElement("div",{className:"fitness ml-3 mt-2"},l.a.createElement("div",{id:"paymentDetailsForm"},l.a.createElement("textarea",{id:"paymentDetailsEdit",name:"paymentDetails",style:{borderRadius:"5px"},placeholder:"Enter Payment details (if any)",class:"form-control",onChange:u})))),l.a.createElement("div",{className:"float-right mr-4 mt-3 mb-4"},l.a.createElement("button",{className:"btn btn-primary btn-lg sm-btn-block"},"Edit")))};var q=function(e){var t=window.location.pathname.split("/")[2],a=window.location.pathname.split("/")[3],o=Object(n.useState)({no:"",beds:0,status:"",ready:"",bathroom:"",disable:"",emigrantId:"",remark:""}),r=Object(c.a)(o,2),m=r[0],u=r[1],p=function(e){u(Object(i.a)({},m,Object(s.a)({},e.target.name,e.target.value)))};return Object(n.useEffect)((function(){var e="http://localhost:9000/api/rooms/"+a+"?institutionId="+t+"&id="+window.localStorage.getItem("session");d.a.get(e).then((function(e){"string"===typeof e.data?"connection closed"===e.data?(alert("connection closed"),window.location.replace("/")):console.log(e.data):(document.getElementById("roomEditHeading").innerHTML="Room : "+e.data.no,document.getElementById("roomBedsEdit").value=e.data.beds,document.getElementById("roomsRemarkEdit").value=e.data.remark,"yes"===e.data.bathroom?document.getElementById("attchBath1Edit").checked=!0:document.getElementById("attchBath2Edit").checked=!0,"yes"===e.data.disable?document.getElementById("disable1Edit").checked=!0:document.getElementById("disable2Edit").checked=!0,"yes"===e.data.ready?document.getElementById("ready1Edit").checked=!0:document.getElementById("ready2Edit").checked=!0,"yes"===e.data.status?document.getElementById("roomStatusEdit").options.selectedIndex=1:document.getElementById("roomStatusEdit").options.selectedIndex=0,u(e.data))})).catch((function(e){return console.log(e)}))}),[]),l.a.createElement("div",{className:"container p-4"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-2"}),l.a.createElement("div",{className:"col-lg-8"},l.a.createElement("a",{href:"/admin/"+t},l.a.createElement("button",{className:"btn btn-primary btn-block mb-2"},"Go Back")))),l.a.createElement("form",{className:"container p-2 col col-lg-8 roomEdit"},l.a.createElement("div",{className:"text-center"},l.a.createElement("h3",{id:"roomEditHeading"},"Room : ")),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col"},l.a.createElement("label",null,"No of beds"),l.a.createElement("input",{type:"number",id:"roomBedsEdit",name:"beds",className:"form-control",placeholder:"No of Beds",onChange:p}))),l.a.createElement("div",{className:"form-row col-lg col-sm-6"},l.a.createElement("div",{className:"form-group col"},l.a.createElement("label",null,"Attached Bathroom ?"),l.a.createElement("div",{className:"row mb-3 ml-2"},l.a.createElement("div",{class:"custom-control custom-radio"},l.a.createElement("input",{type:"radio",id:"attchBath1Edit",name:"bathroom",value:"yes",onChange:p,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"attchBath1Edit"},"Yes")),l.a.createElement("div",{class:"custom-control custom-radio ml-2"},l.a.createElement("input",{type:"radio",id:"attchBath2Edit",name:"bathroom",value:"no",onChange:p,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"attchBath2Edit"},"No")))),l.a.createElement("div",{className:"form-group col-lg col-sm-6"},l.a.createElement("label",null,"Disable Friendly?"),l.a.createElement("div",{className:"row mb-3 ml-3"},l.a.createElement("div",{class:"custom-control custom-radio"},l.a.createElement("input",{type:"radio",id:"disable1Edit",name:"disable",value:"yes",onChange:p,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"disable1Edit"},"Yes")),l.a.createElement("div",{class:"custom-control custom-radio ml-2"},l.a.createElement("input",{type:"radio",id:"disable2Edit",name:"disable",value:"no",onChange:p,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"disable2Edit"},"No")))),l.a.createElement("div",{className:"form-group pr-4 col-lg col-sm-6"},l.a.createElement("label",null,"Ready to Occupy"),l.a.createElement("div",{className:"row mb-3"},l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"ready1Edit",name:"ready",value:"yes",onChange:p,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"ready1Edit"},"Yes")),l.a.createElement("div",{class:"custom-control custom-radio ml-4"},l.a.createElement("input",{type:"radio",id:"ready2Edit",name:"ready",value:"no",onChange:p,class:"custom-control-input"}),l.a.createElement("label",{class:"custom-control-label",for:"ready2Edit"},"No"))))),l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("label",{className:"input-group-text",htmlFor:"inputGroupSelect01"},"Status")),l.a.createElement("select",{className:"custom-select",id:"roomStatusEdit",name:"status",onChange:function(e){u(Object(i.a)({},m,Object(s.a)({},e.target.name,e.target.options[e.target.options.selectedIndex].value)))}},l.a.createElement("option",{defaultValue:!0,value:"no"},"Decontaminated"),l.a.createElement("option",{value:"yes"},"Contaminated"))),l.a.createElement("div",{className:"form-group col"},l.a.createElement("label",null,"Remark"),l.a.createElement("input",{type:"text",id:"roomsRemarkEdit",name:"remark",className:"form-control",placeholder:"Remarks",onChange:p})),l.a.createElement("button",{type:"submit",className:"btn btn-primary float-right",onClick:function(e){if(e.preventDefault(),console.log(m.beds),window.confirm("Are you sure?"))if(""!==m.no&&m.beds>-1&&""!=m.status&&""!==m.ready&&""!==m.bathroom&&""!=m.disable&&""!=m.beds){var n="http://localhost:9000/api/rooms/"+a+"/edit?institutionId="+t+"&id="+window.localStorage.getItem("session");d.a.post(n,m,{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0}}).then((function(e){"string"===typeof e.data&&("connection closed"===e.data?(alert(e.data),window.location.replace("/")):"Room Successfully Updated"===e.data?window.location.replace("/admin/"+t):document.getElementById("roomsEditFormMssg").innerHTML=e.data)})).catch((function(e){return console.log(e)}))}else document.getElementById("roomsEditFormMssg").innerHTML="Empty Fields Present"}},"Edit room")),l.a.createElement("div",{id:"roomsEditFormMssg"}))};var J=function(){var e=Object(n.useState)(""),t=Object(c.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)(""),s=Object(c.a)(r,2),i=s[0],m=s[1],u=Object(n.useState)(""),E=Object(c.a)(u,2),h=E[0],b=E[1],g=function(){d.a.get("http://localhost:9000/api/?id="+window.localStorage.getItem("session")).then((function(e){"institution"===e.data.type&&m(e.data.id),"taluk"===e.data.type&&b(e.data.taluk),o(e.data.type)})).catch((function(e){return console.log(e)}))};return Object(n.useEffect)((function(){g()}),[]),window.localStorage.getItem("session")?"admin"===a||"dashboard"===a||"airport"===a||"institution"===a||"superadmin"===a||"taluk"===a?("admin"===a||"superadmin"===a||"dashboard"===a?window.localStorage.setItem("currTab","Home"):"institution"!==a&&"taluk"!==a||window.localStorage.setItem("currTab","Institution"),l.a.createElement("div",null,l.a.createElement(Y.a,{exact:!0,path:"/",render:function(){return l.a.createElement(W,{currInstitutionsTab:"Institutions",type:a,institutionId:i,taluk:h})}}),l.a.createElement(Y.a,{exact:!0,path:"/admin",render:function(){return l.a.createElement(W,{currInstitutionsTab:"Institutions",type:a,institutionId:i,taluk:h})}}),l.a.createElement(Y.a,{exact:!0,path:"/admin/:id",render:function(){return l.a.createElement(W,{currInstitutionsTab:"Rooms",type:a,institutionId:i,taluk:h})}}),l.a.createElement(Y.a,{exact:!0,path:"/admin/:id/edit",render:function(){return l.a.createElement(_,{type:a,institutionId:i,taluk:h})}}),l.a.createElement(Y.a,{exact:!0,path:"/admin/:id/:room/view",render:function(){return l.a.createElement(W,{currInstitutionsTab:"Inmate",type:a,institutionId:i,taluk:h})}}),l.a.createElement(Y.a,{exact:!0,path:"/admin/:id/:room/edit",render:function(){return l.a.createElement(q,{type:a,taluk:h})}}))):""===a||void 0===a&&""!==h?l.a.createElement("div",null):l.a.createElement(Y.a,{path:"/",render:function(){return l.a.createElement(p,{parentFunction:g})}}):l.a.createElement(Y.a,{path:"/",render:function(){return l.a.createElement(p,{parentFunction:g})}})};Boolean("18.223.108.131"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var $=a(21);r.a.render(l.a.createElement($.a,null,l.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.e7cabff3.chunk.js.map