{"ast":null,"code":"var _jsxFileName = \"/home/ben/html/maaxo-react/client/src/Components/QueryTab.js\";\nimport React, { Component } from 'react';\nimport './Styles/QueryTab.css';\nimport axios from 'axios';\nvar no = 0;\n\nclass QueryTab extends Component {\n  constructor() {\n    super();\n\n    this.removeQuery = id => {\n      if (window.confirm(\"Are you sure?\")) {\n        axios.get(\"http://localhost:9000/admin/query/delete/\" + id).then(res => console.log(res)).catch(err => console.log(err));\n        this.render();\n      }\n    };\n\n    this.NextPage = () => {\n      axios.get(\"http://localhost:9000/admin/query/count\").then(res => {\n        if (res.data.count > no + 10) no = no + 10;\n        this.componentDidMount();\n      }).catch(err => console.log(err));\n    };\n\n    this.PrevPage = () => {\n      if (no >= 10) no = no - 10;\n      this.componentDidMount();\n    };\n\n    this.DeletePage = () => {\n      if (window.confirm(\"Are you sure?\")) {\n        axios.get(\"http://localhost:9000/admin/query/delete?no=\" + no).then(res => console.log(res)).catch(err => console.log(err));\n        if (no > 10) no = no = 10;else no = 0;\n        this.render();\n      }\n    };\n\n    this.state = {};\n  }\n\n  componentDidMount() {\n    const url = \"http://localhost:9000/admin/query?no=\" + no;\n    axios.get(url).then(res => {\n      const queries = res.data.map(u => React.createElement(\"div\", {\n        key: u._id,\n        className: \"QueryContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"Query\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, \"Name  :\", u.name), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, \"Phone :\", u.phone), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, \"Email :\", u.email), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, \"Query :\", u.query)), React.createElement(\"div\", {\n        onClick: this.removeQuery.bind(this, u._id),\n        className: \"DeleteQuery\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, \"Delete\")));\n      this.setState({\n        queries\n      });\n    }).catch(err => console.log(err));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"QueriesList\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, this.state.queries), React.createElement(\"div\", {\n      id: \"QueryBtn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      id: \"NextBtn\",\n      onClick: this.NextPage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Next Page\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      id: \"PrevBtn\",\n      onClick: this.PrevPage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Prev Page\")), React.createElement(\"div\", {\n      id: \"PageNo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Page : \", no / 10 + 1), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      id: \"DelPageBtn\",\n      onClick: this.DeletePage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Delete Page\"))));\n  }\n\n}\n\nexport default QueryTab;","map":{"version":3,"sources":["/home/ben/html/maaxo-react/client/src/Components/QueryTab.js"],"names":["React","Component","axios","no","QueryTab","constructor","removeQuery","id","window","confirm","get","then","res","console","log","catch","err","render","NextPage","data","count","componentDidMount","PrevPage","DeletePage","state","url","queries","map","u","_id","name","phone","email","query","bind","setState"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './Styles/QueryTab.css';\nimport axios from 'axios';\n\nvar no=0;\n\nclass QueryTab extends Component {\n    \n    constructor()\n    {\n        super();\n        this.state = {};\n    }\n\n\n    removeQuery = (id) =>{\n        if(window.confirm(\"Are you sure?\"))\n        {\n            axios.get(\"http://localhost:9000/admin/query/delete/\"+id)\n                .then(res => console.log(res))\n                .catch(err => console.log(err));\n            this.render();  \n        }  \n    }\n\n\n    componentDidMount(){\n        const url = \"http://localhost:9000/admin/query?no=\"+no; \n        axios.get(url)\n        .then(res => {\n            const queries = res.data.map( u =>\n                <div  key={u._id} className=\"QueryContainer\">\n                    <div className='Query'>\n                        <p>Name  :{u.name}</p>\n                        <p>Phone :{u.phone}</p>\n                        <p>Email :{u.email}</p>\n                        <p>Query :{u.query}</p>\n                    </div>\n                    <div onClick = {this.removeQuery.bind(this, u._id)} className=\"DeleteQuery\">Delete</div>\n                </div>\n                );\n            this.setState({queries});\n        })\n        .catch(err => console.log(err));\n    }\n\n\n    NextPage = () =>{\n            axios.get(\"http://localhost:9000/admin/query/count\")\n                .then(res => {\n                    if(res.data.count > no+10)\n                        no=no+10\n                    this.componentDidMount();  \n                })\n                .catch(err => console.log(err));\n    }\n    \n\n    PrevPage = () =>{\n        if(no>=10)\n            no = no-10;\n        this.componentDidMount();  \n    }\n\n\n    DeletePage =() =>\n    {\n        if(window.confirm(\"Are you sure?\"))\n        {\n           axios.get(\"http://localhost:9000/admin/query/delete?no=\"+no)\n            .then(res => console.log(res))\n            .catch(err => console.log(err));\n            if(no>10)\n                no=no=10;\n            else\n                no=0;    \n            this.render();    \n        }\n    }\n\n    \n    \n    render() {\n        return (\n            <div>\n                <div id=\"QueriesList\">\n                    {this.state.queries}\n                </div>\n                <div id=\"QueryBtn\">\n                    <div><button id=\"NextBtn\" onClick={this.NextPage}>Next Page</button></div>\n                    <div><button id=\"PrevBtn\" onClick={this.PrevPage}>Prev Page</button></div>\n                    <div id=\"PageNo\">Page : {(no/10)+1}</div>\n                    <div><button id=\"DelPageBtn\" onClick={this.DeletePage}>Delete Page</button></div>                     \n                </div>\n            </div>\n        );\n    }\n}\n\nexport default QueryTab;"]},"metadata":{},"sourceType":"module"}