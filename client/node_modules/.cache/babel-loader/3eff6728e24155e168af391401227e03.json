{"ast":null,"code":"var _jsxFileName = \"/home/ghost/projects/react/quarantine/client/src/Components/Institutions.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\n\nclass Hotels extends Component {\n  constructor() {\n    super();\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      document.getElementById(\"InstitutionAddMssg\").innerHTML = \"\";\n      var config = {\n        headers: {\n          'Access-Control-Allow-Origin': '*',\n          'Access-Control-Allow-Credentials': true\n        }\n      };\n\n      if (this.state.newInstitution !== \"\") {\n        const data = {\n          name: this.state.newInstitution\n        };\n        axios.post(\"http://localhost:9000/admin/institution\", data, config).then(function (res) {\n          window.location.reload();\n        }).catch(err => console.log(err));\n      } else {\n        document.getElementById(\"InstitutionAddMssg\").innerHTML = \"Empty Field\";\n      }\n\n      this.setState({\n        newInstitution: \"\"\n      });\n      document.getElementById(\"NewInstitution\").value = \"\";\n    };\n\n    this.removeInstitution = id => {\n      if (window.confirm(\"Are you sure?\")) {\n        axios.get(\"http://localhost:9000/admin/institution/delete/\" + id).catch(err => console.log(err));\n      }\n\n      this.componentDidMount();\n    };\n\n    this.state = {\n      newInstitution: \"\",\n      Institutions: []\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"http://localhost:9000/admin/institution\").then(res => {\n      const institutions = res.data.map(u => React.createElement(\"div\", {\n        key: u._id,\n        className: \"InstitutionsContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"Institution\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"Name  :\", u.name)), React.createElement(\"div\", {\n        onClick: this.removeInstitution.bind(this, u._id),\n        className: \"DeleteInstitution\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"Delete\")));\n      this.setState({\n        \"Institutions\": institutions\n      });\n    }).catch(err => console.log(err));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"InstitutionTab\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"NewInstituteForm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      name: \"newInstitution\",\n      id: \"NewInstitution\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      id: \"NewInsititutionButton\",\n      onClick: this.handleSubmit,\n      value: \"Add Institution\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      id: \"InstitutionAddMssg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, this.state.Institutions));\n  }\n\n}\n\nexport default Hotels;","map":{"version":3,"sources":["/home/ghost/projects/react/quarantine/client/src/Components/Institutions.js"],"names":["React","Component","axios","Hotels","constructor","handleChange","event","setState","target","name","value","handleSubmit","preventDefault","document","getElementById","innerHTML","config","headers","state","newInstitution","data","post","then","res","window","location","reload","catch","err","console","log","removeInstitution","id","confirm","get","componentDidMount","Institutions","institutions","map","u","_id","bind","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nclass Hotels extends Component {\n    \n    \n    constructor(){\n        super();\n        this.state={newInstitution:\"\",\n                    Institutions :[]};\n    }\n        \n\n    handleChange = (event)=>{\n        this.setState({\n            [event.target.name]: event.target.value\n          });\n    }  \n\n\n\n    handleSubmit = (event) =>{\n        event.preventDefault();\n        document.getElementById(\"InstitutionAddMssg\").innerHTML = \"\";    \n        var config = {\n            headers: {'Access-Control-Allow-Origin': '*',\n                    'Access-Control-Allow-Credentials': true}\n        };\n        if(this.state.newInstitution !== \"\")\n        {\n            const data ={name:this.state.newInstitution};\n            axios\n            .post(\"http://localhost:9000/admin/institution\", data, config)\n            .then(function(res){\n                window.location.reload();\n            })\n            .catch(err =>console.log(err));\n        }                \n        else{\n            document.getElementById(\"InstitutionAddMssg\").innerHTML = \"Empty Field\";\n        }    \n        this.setState({newInstitution:\"\"}); \n        document.getElementById(\"NewInstitution\").value = \"\";  \n    }\n\n\n    removeInstitution = (id) =>{\n        if(window.confirm(\"Are you sure?\"))\n        {\n            axios.get(\"http://localhost:9000/admin/institution/delete/\"+id)\n                .catch(err => console.log(err));\n        }  \n        this.componentDidMount();\n    }\n\n\n    componentDidMount(){\n        axios.get(\"http://localhost:9000/admin/institution\")\n        .then(res => {\n            const institutions = res.data.map( u =>\n                <div  key={u._id} className=\"InstitutionsContainer\">\n                    <div className='Institution'>\n                        <p>Name  :{u.name}</p>\n                    </div>\n                    <div onClick={this.removeInstitution.bind(this,u._id)} className=\"DeleteInstitution\">Delete</div>\n                </div>\n                );\n            this.setState({\"Institutions\":institutions});\n        })\n        .catch(err => console.log(err));\n    }\n    \n        \n       \n    render() {\n        return (\n            <div id=\"InstitutionTab\">\n                <div id=\"NewInstituteForm\">\n                    <input type=\"text\" name=\"newInstitution\" id=\"NewInstitution\" onChange={this.handleChange}></input>\n                    <input type=\"submit\" id=\"NewInsititutionButton\" onClick={this.handleSubmit} value=\"Add Institution\"></input>  \n                </div> \n                <div id=\"InstitutionAddMssg\"></div>\n                <div>\n                    { this.state.Institutions } \n                </div>               \n            </div>\n        );\n    }\n}\n\nexport default Hotels;"]},"metadata":{},"sourceType":"module"}